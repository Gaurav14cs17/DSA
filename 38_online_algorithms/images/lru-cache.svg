<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 700">
  <rect width="950" height="700" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" text-anchor="middle" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff">LRU Cache</text>
  <text x="475" y="65" text-anchor="middle" font-family="Courier New, monospace" font-size="16" fill="#888888">Doubly Linked List + HashMap | O(1) Operations</text>
  
  <!-- Structure Section -->
  <text x="50" y="110" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">DATA STRUCTURE</text>
  
  <!-- HashMap -->
  <g transform="translate(50, 130)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">HashMap: key → Node reference</text>
    
    <rect x="0" y="15" width="180" height="100" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="4"/>
    <text x="90" y="35" text-anchor="middle" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#3b82f6">HashMap</text>
    
    <line x1="20" y1="50" x2="160" y2="50" stroke="#3b82f6" stroke-width="1" opacity="0.5"/>
    
    <text x="30" y="70" font-family="Courier New, monospace" font-size="11" fill="#ffffff">1 → Node</text>
    <text x="30" y="88" font-family="Courier New, monospace" font-size="11" fill="#ffffff">3 → Node</text>
    <text x="30" y="106" font-family="Courier New, monospace" font-size="11" fill="#ffffff">5 → Node</text>
    
    <!-- Arrow to DLL -->
    <line x1="180" y1="75" x2="230" y2="75" stroke="#888888" stroke-width="1.5" stroke-dasharray="4,2"/>
    <polygon points="230,75 220,70 220,80" fill="#888888"/>
  </g>
  
  <!-- Doubly Linked List -->
  <g transform="translate(280, 130)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">Doubly Linked List: maintains recency order</text>
    
    <!-- Head (dummy) -->
    <rect x="0" y="25" width="60" height="50" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="4"/>
    <text x="30" y="45" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#a78bfa">HEAD</text>
    <text x="30" y="60" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">(dummy)</text>
    
    <!-- Arrow -->
    <line x1="60" y1="50" x2="90" y2="50" stroke="#4ade80" stroke-width="2"/>
    <polygon points="90,50 82,45 82,55" fill="#4ade80"/>
    
    <!-- MRU Node -->
    <rect x="90" y="20" width="80" height="60" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="4"/>
    <text x="130" y="40" text-anchor="middle" font-family="Courier New, monospace" font-size="10" font-weight="bold" fill="#4ade80">MRU</text>
    <text x="130" y="55" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#ffffff">k:5 v:50</text>
    <text x="130" y="72" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">most recent</text>
    
    <!-- Bidirectional arrows -->
    <line x1="170" y1="45" x2="200" y2="45" stroke="#3b82f6" stroke-width="1.5"/>
    <polygon points="200,45 192,40 192,50" fill="#3b82f6"/>
    <line x1="200" y1="55" x2="170" y2="55" stroke="#3b82f6" stroke-width="1.5"/>
    <polygon points="170,55 178,50 178,60" fill="#3b82f6"/>
    
    <!-- Middle Node -->
    <rect x="200" y="20" width="80" height="60" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5" rx="4"/>
    <text x="240" y="45" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#ffffff">k:3 v:30</text>
    <text x="240" y="62" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">middle</text>
    
    <!-- Bidirectional arrows -->
    <line x1="280" y1="45" x2="310" y2="45" stroke="#3b82f6" stroke-width="1.5"/>
    <polygon points="310,45 302,40 302,50" fill="#3b82f6"/>
    <line x1="310" y1="55" x2="280" y2="55" stroke="#3b82f6" stroke-width="1.5"/>
    <polygon points="280,55 288,50 288,60" fill="#3b82f6"/>
    
    <!-- LRU Node -->
    <rect x="310" y="20" width="80" height="60" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" rx="4"/>
    <text x="350" y="40" text-anchor="middle" font-family="Courier New, monospace" font-size="10" font-weight="bold" fill="#ef4444">LRU</text>
    <text x="350" y="55" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#ffffff">k:1 v:10</text>
    <text x="350" y="72" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">evict first</text>
    
    <!-- Arrow to tail -->
    <line x1="390" y1="50" x2="420" y2="50" stroke="#ef4444" stroke-width="2"/>
    <polygon points="420,50 412,45 412,55" fill="#ef4444"/>
    
    <!-- Tail (dummy) -->
    <rect x="420" y="25" width="60" height="50" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="4"/>
    <text x="450" y="45" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#a78bfa">TAIL</text>
    <text x="450" y="60" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">(dummy)</text>
  </g>
  
  <!-- GET Operation -->
  <text x="50" y="280" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">GET OPERATION</text>
  
  <g transform="translate(50, 300)">
    <!-- Step 1 -->
    <rect x="0" y="0" width="200" height="45" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5" rx="4"/>
    <text x="15" y="18" font-family="Courier New, monospace" font-size="10" fill="#3b82f6">1.</text>
    <text x="35" y="18" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Lookup key in HashMap</text>
    <text x="35" y="35" font-family="Courier New, monospace" font-size="10" fill="#888888">O(1) access to Node</text>
    
    <!-- Arrow -->
    <line x1="200" y1="22" x2="230" y2="22" stroke="#888888" stroke-width="1.5"/>
    <polygon points="230,22 222,17 222,27" fill="#888888"/>
    
    <!-- Step 2 -->
    <rect x="230" y="0" width="200" height="45" fill="#3d1f0f" stroke="#f97316" stroke-width="1.5" rx="4"/>
    <text x="245" y="18" font-family="Courier New, monospace" font-size="10" fill="#f97316">2.</text>
    <text x="265" y="18" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Move node to head</text>
    <text x="265" y="35" font-family="Courier New, monospace" font-size="10" fill="#888888">Update prev/next pointers</text>
    
    <!-- Arrow -->
    <line x1="430" y1="22" x2="460" y2="22" stroke="#888888" stroke-width="1.5"/>
    <polygon points="460,22 452,17 452,27" fill="#888888"/>
    
    <!-- Step 3 -->
    <rect x="460" y="0" width="200" height="45" fill="#0f2f1f" stroke="#4ade80" stroke-width="1.5" rx="4"/>
    <text x="475" y="18" font-family="Courier New, monospace" font-size="10" fill="#4ade80">3.</text>
    <text x="495" y="18" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Return value</text>
    <text x="495" y="35" font-family="Courier New, monospace" font-size="10" fill="#888888">Node.val → caller</text>
    
    <text x="0" y="70" font-family="Courier New, monospace" font-size="12" fill="#60a5fa">Time Complexity: O(1)</text>
  </g>
  
  <!-- PUT Operation -->
  <text x="50" y="410" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">PUT OPERATION</text>
  
  <g transform="translate(50, 430)">
    <!-- Branch: Key exists -->
    <rect x="0" y="0" width="140" height="40" fill="#3d1f0f" stroke="#f97316" stroke-width="1.5" rx="4"/>
    <text x="70" y="18" text-anchor="middle" font-family="Courier New, monospace" font-size="10" font-weight="bold" fill="#f97316">Key Exists?</text>
    <text x="70" y="33" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#888888">check HashMap</text>
    
    <!-- Yes branch -->
    <line x1="140" y1="15" x2="180" y2="15" stroke="#4ade80" stroke-width="1.5"/>
    <text x="155" y="10" font-family="Courier New, monospace" font-size="9" fill="#4ade80">YES</text>
    
    <rect x="180" y="0" width="160" height="35" fill="#0f2f1f" stroke="#4ade80" stroke-width="1.5" rx="4"/>
    <text x="260" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Update value</text>
    <text x="260" y="28" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">Move to head</text>
    
    <!-- No branch -->
    <line x1="140" y1="30" x2="180" y2="60" stroke="#ef4444" stroke-width="1.5"/>
    <text x="150" y="50" font-family="Courier New, monospace" font-size="9" fill="#ef4444">NO</text>
    
    <!-- New key flow -->
    <rect x="180" y="45" width="160" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5" rx="4"/>
    <text x="260" y="60" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Create new node</text>
    <text x="260" y="73" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">Add to HashMap</text>
    
    <line x1="340" y1="62" x2="370" y2="62" stroke="#888888" stroke-width="1.5"/>
    <polygon points="370,62 362,57 362,67" fill="#888888"/>
    
    <rect x="370" y="45" width="160" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="1.5" rx="4"/>
    <text x="450" y="60" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Add to head of DLL</text>
    <text x="450" y="73" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">head.next = node</text>
    
    <line x1="530" y1="62" x2="560" y2="62" stroke="#888888" stroke-width="1.5"/>
    <polygon points="560,62 552,57 552,67" fill="#888888"/>
    
    <rect x="560" y="45" width="170" height="35" fill="#1f0f0f" stroke="#ef4444" stroke-width="1.5" rx="4"/>
    <text x="645" y="60" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">If over capacity</text>
    <text x="645" y="73" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">Evict tail.prev (LRU)</text>
    
    <text x="0" y="110" font-family="Courier New, monospace" font-size="12" fill="#60a5fa">Time Complexity: O(1)</text>
  </g>
  
  <!-- Eviction Visualization -->
  <text x="50" y="575" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">EVICTION EXAMPLE (capacity=3)</text>
  
  <g transform="translate(50, 595)">
    <!-- Before -->
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">Before put(7, 70):</text>
    
    <rect x="0" y="10" width="50" height="30" fill="#0f2f1f" stroke="#4ade80" stroke-width="1.5"/>
    <text x="25" y="30" text-anchor="middle" font-family="Courier New, monospace" font-size="11" fill="#ffffff">5</text>
    
    <line x1="50" y1="25" x2="70" y2="25" stroke="#888888" stroke-width="1"/>
    
    <rect x="70" y="10" width="50" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
    <text x="95" y="30" text-anchor="middle" font-family="Courier New, monospace" font-size="11" fill="#ffffff">3</text>
    
    <line x1="120" y1="25" x2="140" y2="25" stroke="#888888" stroke-width="1"/>
    
    <rect x="140" y="10" width="50" height="30" fill="#1f0f0f" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="4,2"/>
    <text x="165" y="30" text-anchor="middle" font-family="Courier New, monospace" font-size="11" fill="#ef4444">1</text>
    
    <!-- Arrow -->
    <line x1="220" y1="25" x2="280" y2="25" stroke="#f97316" stroke-width="2"/>
    <polygon points="280,25 270,20 270,30" fill="#f97316"/>
    <text x="250" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#f97316">evict</text>
    
    <!-- After -->
    <text x="300" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">After:</text>
    
    <rect x="300" y="10" width="50" height="30" fill="#0f2f1f" stroke="#4ade80" stroke-width="1.5"/>
    <text x="325" y="30" text-anchor="middle" font-family="Courier New, monospace" font-size="11" fill="#4ade80">7</text>
    
    <line x1="350" y1="25" x2="370" y2="25" stroke="#888888" stroke-width="1"/>
    
    <rect x="370" y="10" width="50" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
    <text x="395" y="30" text-anchor="middle" font-family="Courier New, monospace" font-size="11" fill="#ffffff">5</text>
    
    <line x1="420" y1="25" x2="440" y2="25" stroke="#888888" stroke-width="1"/>
    
    <rect x="440" y="10" width="50" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
    <text x="465" y="30" text-anchor="middle" font-family="Courier New, monospace" font-size="11" fill="#ffffff">3</text>
    
    <text x="510" y="30" font-family="Courier New, monospace" font-size="10" fill="#4ade80">✓ 7 is MRU, 1 evicted</text>
  </g>
  
  <!-- Complexity Box -->
  <rect x="730" y="100" width="200" height="130" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="4"/>
  <text x="830" y="125" text-anchor="middle" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#3b82f6">COMPLEXITY</text>
  <line x1="745" y1="135" x2="915" y2="135" stroke="#3b82f6" stroke-width="1" opacity="0.5"/>
  <text x="750" y="158" font-family="Courier New, monospace" font-size="11" fill="#ffffff">get(key)     O(1)</text>
  <text x="750" y="178" font-family="Courier New, monospace" font-size="11" fill="#ffffff">put(key,val) O(1)</text>
  <text x="750" y="198" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Space        O(n)</text>
  <text x="750" y="218" font-family="Courier New, monospace" font-size="10" fill="#888888">n = capacity</text>
  
  <!-- Key insight -->
  <rect x="570" y="595" width="360" height="60" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="4"/>
  <text x="750" y="618" text-anchor="middle" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#a78bfa">KEY INSIGHT</text>
  <text x="750" y="640" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">HashMap gives O(1) lookup</text>
  <text x="750" y="652" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">DLL gives O(1) order manipulation</text>
</svg>

