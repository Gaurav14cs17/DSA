<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 450">
  <rect width="900" height="450" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="450" y="35" font-family="Courier New, monospace" font-size="24" font-weight="bold" fill="#ffffff" text-anchor="middle">Dynamic Segment Tree</text>
  <text x="450" y="58" font-family="Courier New, monospace" font-size="14" fill="#888888" text-anchor="middle">Create nodes on-demand • For sparse data or huge ranges [0, 10⁹]</text>

  <!-- Traditional vs Dynamic -->
  <text x="250" y="95" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">PROBLEM: Range too large!</text>
  
  <rect x="50" y="115" width="400" height="140" fill="#0f0f23" stroke="#ef4444" stroke-width="2"/>
  
  <text x="70" y="145" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Array range: [0, 10⁹]</text>
  <text x="70" y="170" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Traditional segment tree needs: 4×10⁹ nodes</text>
  <text x="70" y="195" font-family="Courier New, monospace" font-size="11" fill="#ef4444">→ ~16 GB memory! Impossible!</text>
  
  <text x="70" y="230" font-family="Courier New, monospace" font-size="11" fill="#4ade80">But actual queries/updates: only ~10⁵</text>
  <text x="70" y="250" font-family="Courier New, monospace" font-size="11" fill="#4ade80">→ Create nodes only when needed</text>

  <!-- Solution -->
  <text x="680" y="95" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">SOLUTION: Dynamic Creation</text>
  
  <rect x="480" y="115" width="380" height="140" fill="#0f0f23" stroke="#4ade80" stroke-width="2"/>
  
  <!-- Sparse tree visualization -->
  <circle cx="670" cy="155" r="18" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="670" y="160" font-family="Courier New, monospace" font-size="8" fill="#ffffff" text-anchor="middle">[0,10⁹]</text>
  
  <line x1="655" y1="170" x2="600" y2="195" stroke="#a78bfa" stroke-width="2"/>
  <line x1="685" y1="170" x2="740" y2="195" stroke="#3b82f6" stroke-width="1" stroke-dasharray="3,2"/>
  
  <circle cx="590" cy="210" r="15" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="590" y="214" font-family="Courier New, monospace" font-size="6" fill="#ffffff" text-anchor="middle">[0,5×10⁸]</text>
  
  <text x="750" y="210" font-family="Courier New, monospace" font-size="8" fill="#888888">NULL</text>
  <text x="750" y="225" font-family="Courier New, monospace" font-size="7" fill="#888888">(not created)</text>
  
  <line x1="578" y1="223" x2="550" y2="240" stroke="#3b82f6" stroke-width="1"/>
  
  <circle cx="540" cy="250" r="12" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="540" y="254" font-family="Courier New, monospace" font-size="6" fill="#ffffff" text-anchor="middle">value</text>

  <!-- Node structure -->
  <rect x="50" y="275" width="400" height="155" fill="#0f0f23" stroke="#f97316" stroke-width="2"/>
  <text x="250" y="300" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#e94560" text-anchor="middle">NODE STRUCTURE</text>
  
  <text x="70" y="330" font-family="Courier New, monospace" font-size="10" fill="#60a5fa">class Node:</text>
  <text x="90" y="350" font-family="Courier New, monospace" font-size="10" fill="#ffffff">left = None   # created when needed</text>
  <text x="90" y="370" font-family="Courier New, monospace" font-size="10" fill="#ffffff">right = None  # created when needed</text>
  <text x="90" y="390" font-family="Courier New, monospace" font-size="10" fill="#ffffff">value = 0</text>
  
  <text x="70" y="420" font-family="Courier New, monospace" font-size="10" fill="#888888">Children created lazily during update/query</text>

  <!-- Complexity -->
  <rect x="480" y="275" width="380" height="155" fill="#0f0f23" stroke="#a78bfa" stroke-width="2"/>
  <text x="670" y="300" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#e94560" text-anchor="middle">COMPLEXITY</text>
  
  <text x="500" y="330" font-family="Courier New, monospace" font-size="11" fill="#60a5fa">Space: O(q · log C)</text>
  <text x="510" y="350" font-family="Courier New, monospace" font-size="10" fill="#888888">q = queries, C = coordinate range</text>
  
  <text x="500" y="380" font-family="Courier New, monospace" font-size="11" fill="#60a5fa">Time per op: O(log C)</text>
  
  <text x="500" y="410" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Problems: LC 715, 729, 731, 732, 699</text>
  <text x="500" y="430" font-family="Courier New, monospace" font-size="10" fill="#888888">Range Module, My Calendar I/II/III</text>
</svg>
