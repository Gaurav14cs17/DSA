<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 650">
  <rect width="950" height="650" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">AVL Tree Rotations</text>
  <text x="475" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Self-balancing through rotations • Balance Factor: |BF| ≤ 1</text>

  <!-- LEFT-LEFT CASE (Right Rotation) -->
  <text x="235" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">LL CASE → RIGHT ROTATION</text>
  
  <!-- Before rotation (unbalanced) -->
  <text x="120" y="135" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">Before (BF=2)</text>
  
  <!-- Node Z (root, unbalanced) -->
  <circle cx="120" cy="180" r="22" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="120" y="185" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">z</text>
  <text x="150" y="175" font-family="Courier New, monospace" font-size="11" fill="#ef4444">+2</text>
  
  <!-- Node Y -->
  <line x1="100" y1="198" x2="70" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="60" cy="250" r="22" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="60" y="255" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">y</text>
  
  <!-- Node T4 -->
  <line x1="140" y1="198" x2="170" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <rect x="155" y="240" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="170" y="255" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T4</text>
  
  <!-- Node X -->
  <line x1="42" y1="268" x2="25" y2="300" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="20" cy="320" r="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="20" y="325" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">x</text>
  
  <!-- Node T3 -->
  <line x1="78" y1="268" x2="95" y2="300" stroke="#3b82f6" stroke-width="2"/>
  <rect x="80" y="305" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="95" y="320" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T3</text>
  
  <!-- T1, T2 subtrees -->
  <line x1="5" y1="340" x2="-5" y2="365" stroke="#3b82f6" stroke-width="2"/>
  <rect x="-20" y="370" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="-5" y="385" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T1</text>
  
  <line x1="35" y1="340" x2="45" y2="365" stroke="#3b82f6" stroke-width="2"/>
  <rect x="30" y="370" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="45" y="385" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T2</text>

  <!-- Arrow -->
  <path d="M 200 280 L 270 280" stroke="#4ade80" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4ade80"/>
    </marker>
  </defs>

  <!-- After rotation (balanced) -->
  <text x="380" y="135" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">After (Balanced)</text>
  
  <!-- Node Y (new root) -->
  <circle cx="380" cy="180" r="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="380" y="185" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">y</text>
  <text x="410" y="175" font-family="Courier New, monospace" font-size="11" fill="#4ade80">0</text>
  
  <!-- Node X (left) -->
  <line x1="360" y1="198" x2="330" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="320" cy="250" r="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="320" y="255" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">x</text>
  
  <!-- Node Z (right) -->
  <line x1="400" y1="198" x2="430" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="440" cy="250" r="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="440" y="255" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">z</text>
  
  <!-- Subtrees -->
  <line x1="305" y1="268" x2="290" y2="295" stroke="#3b82f6" stroke-width="2"/>
  <rect x="275" y="300" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="290" y="315" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T1</text>
  
  <line x1="335" y1="268" x2="350" y2="295" stroke="#3b82f6" stroke-width="2"/>
  <rect x="335" y="300" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="350" y="315" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T2</text>
  
  <line x1="425" y1="268" x2="410" y2="295" stroke="#3b82f6" stroke-width="2"/>
  <rect x="395" y="300" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="410" y="315" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T3</text>
  
  <line x1="455" y1="268" x2="470" y2="295" stroke="#3b82f6" stroke-width="2"/>
  <rect x="455" y="300" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="470" y="315" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T4</text>

  <!-- RIGHT-LEFT CASE (Double Rotation) -->
  <text x="715" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">RL CASE → DOUBLE ROTATION</text>
  
  <text x="595" y="135" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">Before</text>
  
  <!-- Node Z (root) -->
  <circle cx="595" cy="180" r="22" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="595" y="185" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">z</text>
  <text x="625" y="175" font-family="Courier New, monospace" font-size="11" fill="#ef4444">-2</text>
  
  <!-- T1 -->
  <line x1="575" y1="198" x2="555" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <rect x="540" y="240" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="555" y="255" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T1</text>
  
  <!-- Node Y -->
  <line x1="615" y1="198" x2="645" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="655" cy="250" r="22" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="655" y="255" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">y</text>
  
  <!-- Node X -->
  <line x1="637" y1="268" x2="620" y2="300" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="615" cy="320" r="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="615" y="325" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">x</text>
  
  <!-- T4 -->
  <line x1="673" y1="268" x2="690" y2="300" stroke="#3b82f6" stroke-width="2"/>
  <rect x="680" y="305" width="30" height="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="695" y="320" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">T4</text>

  <!-- Arrow to result -->
  <path d="M 720 280 L 790 280" stroke="#4ade80" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

  <!-- After double rotation -->
  <text x="875" y="135" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">After</text>
  
  <!-- Node X (new root) -->
  <circle cx="875" cy="180" r="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="875" y="185" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">x</text>
  
  <!-- Node Z (left) -->
  <line x1="855" y1="198" x2="825" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="815" cy="250" r="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="815" y="255" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">z</text>
  
  <!-- Node Y (right) -->
  <line x1="895" y1="198" x2="925" y2="235" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="935" cy="250" r="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="935" y="255" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">y</text>

  <!-- Balance Factor Legend -->
  <rect x="30" y="430" width="200" height="100" fill="#0f0f23" stroke="#3b82f6" stroke-width="1"/>
  <text x="130" y="455" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">Balance Factor</text>
  <text x="130" y="480" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">BF = h(left) - h(right)</text>
  <text x="130" y="500" font-family="Courier New, monospace" font-size="12" fill="#4ade80" text-anchor="middle">|BF| ≤ 1 → Balanced</text>
  <text x="130" y="520" font-family="Courier New, monospace" font-size="12" fill="#ef4444" text-anchor="middle">|BF| > 1 → Unbalanced</text>

  <!-- Rotation Cases -->
  <rect x="260" y="430" width="430" height="100" fill="#0f0f23" stroke="#3b82f6" stroke-width="1"/>
  <text x="475" y="455" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">Four Rotation Cases</text>
  
  <text x="370" y="480" font-family="Courier New, monospace" font-size="12" fill="#f97316" text-anchor="middle">LL Case:</text>
  <text x="370" y="495" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Single Right</text>
  
  <text x="475" y="480" font-family="Courier New, monospace" font-size="12" fill="#f97316" text-anchor="middle">RR Case:</text>
  <text x="475" y="495" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Single Left</text>
  
  <text x="370" y="515" font-family="Courier New, monospace" font-size="12" fill="#a78bfa" text-anchor="middle">LR Case:</text>
  <text x="370" y="530" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Left + Right</text>
  
  <text x="475" y="515" font-family="Courier New, monospace" font-size="12" fill="#a78bfa" text-anchor="middle">RL Case:</text>
  <text x="475" y="530" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Right + Left</text>
  
  <text x="580" y="495" font-family="Courier New, monospace" font-size="12" fill="#60a5fa" text-anchor="middle">Time: O(1)</text>

  <!-- Complexity Box -->
  <rect x="720" y="430" width="200" height="100" fill="#0f0f23" stroke="#3b82f6" stroke-width="1"/>
  <text x="820" y="455" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">Complexity</text>
  <text x="820" y="480" font-family="Courier New, monospace" font-size="12" fill="#60a5fa" text-anchor="middle">Search: O(log n)</text>
  <text x="820" y="500" font-family="Courier New, monospace" font-size="12" fill="#60a5fa" text-anchor="middle">Insert: O(log n)</text>
  <text x="820" y="520" font-family="Courier New, monospace" font-size="12" fill="#60a5fa" text-anchor="middle">Height: ≤ 1.44·log n</text>

  <!-- Height Bound -->
  <text x="475" y="580" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#4ade80" text-anchor="middle">AVL Property: Strictly Balanced BST with O(log n) Guaranteed Operations</text>
  <text x="475" y="605" font-family="Courier New, monospace" font-size="12" fill="#888888" text-anchor="middle">Insert needs at most 1 rotation • Delete needs at most 2 rotations</text>
  <text x="475" y="630" font-family="Courier New, monospace" font-size="12" fill="#888888" text-anchor="middle">Adelson-Velsky and Landis (1962)</text>
</svg>
