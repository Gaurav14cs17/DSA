<svg viewBox="0 0 950 700" xmlns="http://www.w3.org/2000/svg">
  <rect width="950" height="700" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" text-anchor="middle" fill="#ffffff" font-size="26" font-weight="bold" font-family="Courier New, monospace">Monotonic Deque for Window Maximum</text>
  <text x="475" y="68" text-anchor="middle" fill="#888888" font-size="16" font-family="Courier New, monospace">Array: [1, 3, -1, -3, 5, 3, 6, 7] | k = 3</text>
  
  <!-- Concept Box -->
  <rect x="30" y="90" width="420" height="90" rx="8" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="240" y="115" text-anchor="middle" fill="#a78bfa" font-size="14" font-weight="bold" font-family="Courier New, monospace">KEY INVARIANT</text>
  <text x="50" y="140" fill="#ffffff" font-size="11" font-family="Courier New, monospace">• Deque stores INDICES in decreasing order of values</text>
  <text x="50" y="158" fill="#ffffff" font-size="11" font-family="Courier New, monospace">• Front of deque = index of maximum in window</text>
  <text x="50" y="176" fill="#4ade80" font-size="11" font-family="Courier New, monospace">• Pop smaller from back, pop expired from front</text>
  
  <!-- Why it works -->
  <rect x="470" y="90" width="450" height="90" rx="8" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="695" y="115" text-anchor="middle" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">WHY O(n)?</text>
  <text x="490" y="140" fill="#ffffff" font-size="11" font-family="Courier New, monospace">• Each element enters deque: exactly once</text>
  <text x="490" y="158" fill="#ffffff" font-size="11" font-family="Courier New, monospace">• Each element exits deque: at most once</text>
  <text x="490" y="176" fill="#60a5fa" font-size="11" font-family="Courier New, monospace">• Total operations: 2n = O(n)</text>
  
  <!-- Window 1 -->
  <text x="30" y="210" fill="#e94560" font-size="14" font-weight="bold" font-family="Courier New, monospace">Window [1, 3, -1]:</text>
  
  <rect x="30" y="225" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="50" y="248" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">1</text>
  <rect x="75" y="225" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="95" y="248" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">3</text>
  <rect x="120" y="225" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="140" y="248" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">-1</text>
  <rect x="165" y="225" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="185" y="248" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">-3</text>
  <rect x="210" y="225" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="230" y="248" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">5</text>
  
  <text x="280" y="245" fill="#888888" font-size="11" font-family="Courier New, monospace">deque=[1,2] (indices of 3,-1)</text>
  <text x="280" y="262" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">max = 3</text>
  
  <!-- Window 2 -->
  <text x="500" y="210" fill="#e94560" font-size="14" font-weight="bold" font-family="Courier New, monospace">Window [3, -1, -3]:</text>
  
  <rect x="500" y="225" width="40" height="35" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="520" y="248" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">1</text>
  <rect x="545" y="225" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="565" y="248" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">3</text>
  <rect x="590" y="225" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="610" y="248" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">-1</text>
  <rect x="635" y="225" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="655" y="248" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">-3</text>
  <rect x="680" y="225" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="700" y="248" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">5</text>
  
  <text x="750" y="245" fill="#888888" font-size="11" font-family="Courier New, monospace">deque=[1,2,3]</text>
  <text x="750" y="262" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">max = 3</text>
  
  <!-- Window 3 -->
  <text x="30" y="310" fill="#e94560" font-size="14" font-weight="bold" font-family="Courier New, monospace">Window [-1, -3, 5]: Pop 1 (outside), Pop -1,-3 (smaller than 5)</text>
  
  <rect x="30" y="325" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="50" y="348" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">1</text>
  <rect x="75" y="325" width="40" height="35" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="95" y="348" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">3</text>
  <rect x="120" y="325" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="140" y="348" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">-1</text>
  <rect x="165" y="325" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="185" y="348" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">-3</text>
  <rect x="210" y="325" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="230" y="348" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">5</text>
  <rect x="255" y="325" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="275" y="348" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">3</text>
  
  <text x="320" y="345" fill="#888888" font-size="11" font-family="Courier New, monospace">deque=[4] (index of 5)</text>
  <text x="320" y="362" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">max = 5</text>
  
  <!-- Window 4 -->
  <text x="500" y="310" fill="#e94560" font-size="14" font-weight="bold" font-family="Courier New, monospace">Window [-3, 5, 3]: 3 &lt; 5, append</text>
  
  <rect x="500" y="325" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="520" y="348" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">3</text>
  <rect x="545" y="325" width="40" height="35" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="565" y="348" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">-1</text>
  <rect x="590" y="325" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="610" y="348" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">-3</text>
  <rect x="635" y="325" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="655" y="348" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">5</text>
  <rect x="680" y="325" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="700" y="348" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">3</text>
  <rect x="725" y="325" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="745" y="348" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">6</text>
  
  <text x="790" y="345" fill="#888888" font-size="11" font-family="Courier New, monospace">deque=[4,5]</text>
  <text x="790" y="362" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">max = 5</text>
  
  <!-- Window 5 -->
  <text x="30" y="410" fill="#e94560" font-size="14" font-weight="bold" font-family="Courier New, monospace">Window [5, 3, 6]: Pop 5,3 (smaller than 6)</text>
  
  <rect x="30" y="425" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="50" y="448" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">-1</text>
  <rect x="75" y="425" width="40" height="35" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="95" y="448" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">-3</text>
  <rect x="120" y="425" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="140" y="448" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">5</text>
  <rect x="165" y="425" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="185" y="448" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">3</text>
  <rect x="210" y="425" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="230" y="448" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">6</text>
  <rect x="255" y="425" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="275" y="448" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">7</text>
  
  <text x="320" y="445" fill="#888888" font-size="11" font-family="Courier New, monospace">deque=[6] (index of 6)</text>
  <text x="320" y="462" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">max = 6</text>
  
  <!-- Window 6 -->
  <text x="500" y="410" fill="#e94560" font-size="14" font-weight="bold" font-family="Courier New, monospace">Window [3, 6, 7]: Pop 6 (smaller than 7)</text>
  
  <rect x="500" y="425" width="40" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="520" y="448" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">-3</text>
  <rect x="545" y="425" width="40" height="35" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="565" y="448" text-anchor="middle" fill="#888888" font-size="14" font-family="Courier New, monospace">5</text>
  <rect x="590" y="425" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="610" y="448" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">3</text>
  <rect x="635" y="425" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="655" y="448" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">6</text>
  <rect x="680" y="425" width="40" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="700" y="448" text-anchor="middle" fill="#ffffff" font-size="14" font-weight="bold" font-family="Courier New, monospace">7</text>
  
  <text x="750" y="445" fill="#888888" font-size="11" font-family="Courier New, monospace">deque=[7]</text>
  <text x="750" y="462" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">max = 7</text>
  
  <!-- Algorithm Box -->
  <rect x="30" y="500" width="440" height="180" rx="8" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="250" y="525" text-anchor="middle" fill="#e94560" font-size="14" font-weight="bold" font-family="Courier New, monospace">MONOTONIC DEQUE ALGORITHM</text>
  
  <text x="50" y="555" fill="#a78bfa" font-size="11" font-family="Courier New, monospace">for i in range(len(nums)):</text>
  <text x="65" y="575" fill="#ef4444" font-size="10" font-family="Courier New, monospace"># Remove expired from front</text>
  <text x="65" y="593" fill="#888888" font-size="10" font-family="Courier New, monospace">while dq and dq[0] &lt;= i - k:</text>
  <text x="80" y="611" fill="#888888" font-size="10" font-family="Courier New, monospace">dq.popleft()</text>
  <text x="65" y="631" fill="#4ade80" font-size="10" font-family="Courier New, monospace"># Remove smaller from back</text>
  <text x="65" y="649" fill="#888888" font-size="10" font-family="Courier New, monospace">while dq and nums[dq[-1]] &lt; nums[i]:</text>
  <text x="80" y="667" fill="#888888" font-size="10" font-family="Courier New, monospace">dq.pop()</text>
  
  <!-- Result Box -->
  <rect x="490" y="500" width="430" height="180" rx="8" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="705" y="525" text-anchor="middle" fill="#4ade80" font-size="14" font-weight="bold" font-family="Courier New, monospace">FINAL RESULT</text>
  
  <text x="510" y="560" fill="#ffffff" font-size="14" font-family="Courier New, monospace">Output: [3, 3, 5, 5, 6, 7]</text>
  
  <text x="510" y="600" fill="#888888" font-size="12" font-family="Courier New, monospace">Window  |  Max</text>
  <text x="510" y="620" fill="#888888" font-size="11" font-family="Courier New, monospace">[1,3,-1]    3</text>
  <text x="510" y="638" fill="#888888" font-size="11" font-family="Courier New, monospace">[3,-1,-3]   3</text>
  <text x="510" y="656" fill="#888888" font-size="11" font-family="Courier New, monospace">[-1,-3,5]   5</text>
  
  <text x="680" y="620" fill="#888888" font-size="11" font-family="Courier New, monospace">[-3,5,3]    5</text>
  <text x="680" y="638" fill="#888888" font-size="11" font-family="Courier New, monospace">[5,3,6]     6</text>
  <text x="680" y="656" fill="#888888" font-size="11" font-family="Courier New, monospace">[3,6,7]     7</text>
  
  <text x="705" y="680" text-anchor="middle" fill="#60a5fa" font-size="12" font-family="Courier New, monospace">Time: O(n) | Space: O(k)</text>
</svg>

