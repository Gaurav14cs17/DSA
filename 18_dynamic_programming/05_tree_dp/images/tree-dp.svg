<svg viewBox="0 0 900 600" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="600" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="450" y="40" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Tree Dynamic Programming</text>
  <text x="450" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Bottom-up DP on Tree Structures</text>
  
  <!-- Section: House Robber III Tree -->
  <text x="50" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">House Robber III: Can't rob adjacent nodes</text>
  
  <!-- Tree Structure -->
  <g transform="translate(150, 130)">
    <!-- Root node -->
    <circle cx="150" cy="30" r="30" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
    <text x="150" y="25" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">3</text>
    <text x="150" y="42" font-family="Courier New, monospace" font-size="9" fill="#f97316" text-anchor="middle">rob?</text>
    
    <!-- Level 1 left -->
    <circle cx="70" cy="110" r="28" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="70" y="115" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">2</text>
    
    <!-- Level 1 right -->
    <circle cx="230" cy="110" r="28" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="230" y="115" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">3</text>
    
    <!-- Level 2 -->
    <circle cx="30" cy="190" r="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <text x="30" y="195" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#4ade80" text-anchor="middle">3</text>
    
    <circle cx="110" cy="190" r="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <text x="110" y="195" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#4ade80" text-anchor="middle">1</text>
    
    <circle cx="270" cy="190" r="25" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="270" y="195" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">1</text>
    
    <!-- Edges -->
    <line x1="130" y1="55" x2="85" y2="85" stroke="#888888" stroke-width="2"/>
    <line x1="170" y1="55" x2="215" y2="85" stroke="#888888" stroke-width="2"/>
    <line x1="50" y1="130" x2="40" y2="165" stroke="#888888" stroke-width="2"/>
    <line x1="90" y1="130" x2="100" y2="165" stroke="#888888" stroke-width="2"/>
    <line x1="250" y1="130" x2="260" y2="165" stroke="#888888" stroke-width="2"/>
  </g>
  
  <!-- DP State explanation -->
  <g transform="translate(480, 130)">
    <rect x="0" y="0" width="350" height="140" rx="5" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="175" y="30" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">DP State: (rob, not_rob)</text>
    
    <text x="20" y="60" font-family="Courier New, monospace" font-size="11" fill="#4ade80">rob = node.val + left[1] + right[1]</text>
    <text x="20" y="80" font-family="Courier New, monospace" font-size="10" fill="#888888">If we rob this node, can't rob children</text>
    
    <text x="20" y="105" font-family="Courier New, monospace" font-size="11" fill="#a78bfa">not_rob = max(left) + max(right)</text>
    <text x="20" y="125" font-family="Courier New, monospace" font-size="10" fill="#888888">If we skip, take best from children</text>
  </g>
  
  <!-- Result calculation -->
  <rect x="480" y="280" width="350" height="50" rx="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="655" y="310" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#4ade80" text-anchor="middle">Result: max(7, 4+1) = 7 (rob leaves + root)</text>
  
  <!-- Section: Tree Diameter -->
  <text x="50" y="360" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Tree Diameter: Longest path through any node</text>
  
  <g transform="translate(100, 380)">
    <!-- Diameter tree -->
    <circle cx="100" cy="30" r="25" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="100" y="35" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">1</text>
    
    <circle cx="50" cy="100" r="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="3"/>
    <text x="50" y="105" font-family="Courier New, monospace" font-size="12" fill="#4ade80" text-anchor="middle">2</text>
    
    <circle cx="150" cy="100" r="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="3"/>
    <text x="150" y="105" font-family="Courier New, monospace" font-size="12" fill="#4ade80" text-anchor="middle">3</text>
    
    <circle cx="20" cy="170" r="22" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
    <text x="20" y="175" font-family="Courier New, monospace" font-size="12" fill="#f97316" text-anchor="middle">4</text>
    
    <circle cx="80" cy="170" r="22" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
    <text x="80" y="175" font-family="Courier New, monospace" font-size="12" fill="#f97316" text-anchor="middle">5</text>
    
    <!-- Edges -->
    <line x1="80" y1="50" x2="60" y2="80" stroke="#888888" stroke-width="2"/>
    <line x1="120" y1="50" x2="140" y2="80" stroke="#888888" stroke-width="2"/>
    <line x1="35" y1="120" x2="28" y2="148" stroke="#888888" stroke-width="2"/>
    <line x1="65" y1="120" x2="72" y2="148" stroke="#888888" stroke-width="2"/>
    
    <!-- Diameter path highlight -->
    <path d="M 20 170 Q 20 140 50 100 Q 80 60 100 30 Q 120 60 150 100" stroke="#f97316" stroke-width="3" fill="none" stroke-dasharray="5,3"/>
  </g>
  
  <g transform="translate(350, 390)">
    <rect x="0" y="0" width="250" height="100" rx="5" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="125" y="25" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">Diameter Recurrence</text>
    <text x="125" y="50" font-family="Courier New, monospace" font-size="10" fill="#60a5fa" text-anchor="middle">height(n) = 1 + max(L, R)</text>
    <text x="125" y="70" font-family="Courier New, monospace" font-size="10" fill="#60a5fa" text-anchor="middle">diameter = max(L + R)</text>
    <text x="125" y="90" font-family="Courier New, monospace" font-size="10" fill="#888888" text-anchor="middle">Track global max at each node</text>
  </g>
  
  <!-- Patterns -->
  <text x="650" y="360" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Tree DP Patterns</text>
  
  <rect x="650" y="380" width="200" height="60" rx="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="750" y="405" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Post-order DFS</text>
  <text x="750" y="425" font-family="Courier New, monospace" font-size="9" fill="#888888" text-anchor="middle">Process children first</text>
  
  <rect x="650" y="450" width="200" height="60" rx="5" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="750" y="475" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Return Tuple</text>
  <text x="750" y="495" font-family="Courier New, monospace" font-size="9" fill="#888888" text-anchor="middle">(state1, state2, ...)</text>
  
  <!-- Complexity -->
  <rect x="300" y="530" width="300" height="50" rx="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="450" y="555" font-family="Courier New, monospace" font-size="12" fill="#4ade80" text-anchor="middle">Time: O(n) | Space: O(h)</text>
  <text x="450" y="572" font-family="Courier New, monospace" font-size="10" fill="#888888" text-anchor="middle">h = height of tree (recursion stack)</text>
</svg>
