<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 650">
  <rect width="900" height="650" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="450" y="40" font-family="Courier New, monospace" font-size="26" fill="#ffffff" font-weight="bold" text-anchor="middle">Closest Pair of Points</text>
  <text x="450" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Divide &amp; Conquer Algorithm - O(n log n)</text>
  
  <!-- Main visualization -->
  <text x="50" y="110" font-family="Courier New, monospace" font-size="14" fill="#e94560" font-weight="bold">DIVIDE AND CONQUER APPROACH</text>
  
  <g transform="translate(30, 130)">
    <rect x="0" y="0" width="840" height="250" fill="#1e3a5f" fill-opacity="0.2" stroke="#3b82f6" stroke-width="2" rx="5"/>
    
    <!-- Dividing line -->
    <line x1="420" y1="10" x2="420" y2="240" stroke="#f97316" stroke-width="3" stroke-dasharray="8,4"/>
    <text x="425" y="25" font-family="Courier New, monospace" font-size="12" fill="#f97316" font-weight="bold">mid</text>
    
    <!-- Left half -->
    <rect x="10" y="20" width="400" height="210" fill="#0f2f1f" fill-opacity="0.3" stroke="#4ade80" stroke-width="1" rx="3"/>
    <text x="200" y="45" font-family="Courier New, monospace" font-size="12" fill="#4ade80" font-weight="bold" text-anchor="middle">LEFT HALF</text>
    
    <!-- Left points -->
    <circle cx="60" cy="180" r="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <circle cx="120" cy="100" r="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <circle cx="180" cy="160" r="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <circle cx="240" cy="80" r="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <circle cx="300" cy="140" r="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <circle cx="350" cy="200" r="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <circle cx="380" cy="110" r="5" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    
    <!-- Left closest pair -->
    <line x1="120" y1="100" x2="180" y2="160" stroke="#4ade80" stroke-width="2"/>
    <text x="130" y="135" font-family="Courier New, monospace" font-size="10" fill="#4ade80">δL</text>
    
    <!-- Right half -->
    <rect x="430" y="20" width="400" height="210" fill="#2d1f3d" fill-opacity="0.3" stroke="#a78bfa" stroke-width="1" rx="3"/>
    <text x="630" y="45" font-family="Courier New, monospace" font-size="12" fill="#a78bfa" font-weight="bold" text-anchor="middle">RIGHT HALF</text>
    
    <!-- Right points -->
    <circle cx="480" cy="150" r="5" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
    <circle cx="540" cy="90" r="5" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
    <circle cx="600" cy="180" r="5" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
    <circle cx="660" cy="120" r="5" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
    <circle cx="720" cy="70" r="5" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
    <circle cx="780" cy="160" r="5" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
    
    <!-- Right closest pair -->
    <line x1="540" y1="90" x2="660" y2="120" stroke="#a78bfa" stroke-width="2"/>
    <text x="590" y="100" font-family="Courier New, monospace" font-size="10" fill="#a78bfa">δR</text>
    
    <!-- Strip region -->
    <rect x="320" y="20" width="200" height="210" fill="#f97316" fill-opacity="0.1" stroke="#f97316" stroke-width="1" stroke-dasharray="5,5"/>
    <text x="420" y="220" font-family="Courier New, monospace" font-size="10" fill="#f97316" text-anchor="middle">strip (±δ)</text>
  </g>
  
  <!-- Algorithm Steps -->
  <text x="50" y="420" font-family="Courier New, monospace" font-size="14" fill="#e94560" font-weight="bold">ALGORITHM STEPS</text>
  
  <!-- Step boxes -->
  <g transform="translate(30, 440)">
    <!-- Step 1 -->
    <rect x="0" y="0" width="200" height="100" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
    <text x="100" y="25" font-family="Courier New, monospace" font-size="12" fill="#3b82f6" font-weight="bold" text-anchor="middle">1. SORT</text>
    <text x="15" y="50" font-family="Courier New, monospace" font-size="10" fill="#888888">• Sort by x-coordinate</text>
    <text x="15" y="70" font-family="Courier New, monospace" font-size="10" fill="#888888">• Maintain y-sorted copy</text>
    <text x="15" y="90" font-family="Courier New, monospace" font-size="10" fill="#60a5fa">O(n log n)</text>
  </g>
  
  <g transform="translate(250, 440)">
    <!-- Step 2 -->
    <rect x="0" y="0" width="200" height="100" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
    <text x="100" y="25" font-family="Courier New, monospace" font-size="12" fill="#4ade80" font-weight="bold" text-anchor="middle">2. DIVIDE</text>
    <text x="15" y="50" font-family="Courier New, monospace" font-size="10" fill="#888888">• Split at median x</text>
    <text x="15" y="70" font-family="Courier New, monospace" font-size="10" fill="#888888">• Recurse left &amp; right</text>
    <text x="15" y="90" font-family="Courier New, monospace" font-size="10" fill="#60a5fa">T(n/2) + T(n/2)</text>
  </g>
  
  <g transform="translate(470, 440)">
    <!-- Step 3 -->
    <rect x="0" y="0" width="200" height="100" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
    <text x="100" y="25" font-family="Courier New, monospace" font-size="12" fill="#f97316" font-weight="bold" text-anchor="middle">3. STRIP CHECK</text>
    <text x="15" y="50" font-family="Courier New, monospace" font-size="10" fill="#888888">• δ = min(δL, δR)</text>
    <text x="15" y="70" font-family="Courier New, monospace" font-size="10" fill="#888888">• Check strip ±δ from mid</text>
    <text x="15" y="90" font-family="Courier New, monospace" font-size="10" fill="#60a5fa">Only 7 points each!</text>
  </g>
  
  <g transform="translate(690, 440)">
    <!-- Step 4 -->
    <rect x="0" y="0" width="180" height="100" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="5"/>
    <text x="90" y="25" font-family="Courier New, monospace" font-size="12" fill="#a78bfa" font-weight="bold" text-anchor="middle">4. COMBINE</text>
    <text x="15" y="50" font-family="Courier New, monospace" font-size="10" fill="#888888">• Return minimum of:</text>
    <text x="15" y="70" font-family="Courier New, monospace" font-size="10" fill="#888888">  δL, δR, strip_min</text>
    <text x="15" y="90" font-family="Courier New, monospace" font-size="10" fill="#60a5fa">O(n)</text>
  </g>
  
  <!-- Why 7 points insight -->
  <g transform="translate(30, 560)">
    <rect x="0" y="0" width="840" height="70" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="8"/>
    <text x="20" y="25" font-family="Courier New, monospace" font-size="12" fill="#ffffff" font-weight="bold">WHY CHECK ONLY 7 POINTS?</text>
    <text x="20" y="45" font-family="Courier New, monospace" font-size="11" fill="#888888">In a δ×2δ rectangle, at most 8 points can exist with pairwise distance ≥ δ</text>
    <text x="20" y="62" font-family="Courier New, monospace" font-size="12" fill="#4ade80" font-weight="bold">Recurrence: T(n) = 2T(n/2) + O(n) → O(n log n) by Master Theorem</text>
  </g>
</svg>
