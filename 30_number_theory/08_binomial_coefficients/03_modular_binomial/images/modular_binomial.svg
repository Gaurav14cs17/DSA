<svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="500" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff">Modular Binomial Coefficients</text>
  <text x="450" y="65" text-anchor="middle" font-family="Courier New, monospace" font-size="16" fill="#888888">C(n,r) mod p efficiently</text>
  
  <!-- Method -->
  <rect x="50" y="90" width="800" height="160" rx="10" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="450" y="120" text-anchor="middle" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">PRECOMPUTATION METHOD (p prime)</text>
  
  <text x="70" y="155" font-family="Courier New, monospace" font-size="12" fill="#ffffff">1. Precompute factorial: fact[i] = i! mod p</text>
  <text x="70" y="180" font-family="Courier New, monospace" font-size="12" fill="#ffffff">2. Precompute inverse factorial: inv_fact[i] = (i!)⁻¹ mod p</text>
  <text x="70" y="210" font-family="Courier New, monospace" font-size="14" fill="#4ade80">3. C(n,r) = fact[n] × inv_fact[r] × inv_fact[n-r] mod p</text>
  <text x="70" y="240" font-family="Courier New, monospace" font-size="12" fill="#888888">   Precompute: O(n), Query: O(1)</text>
  
  <!-- Computing inverse factorials -->
  <rect x="50" y="270" width="400" height="180" rx="10" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="250" y="300" text-anchor="middle" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">INVERSE FACTORIAL TRICK</text>
  
  <text x="70" y="335" font-family="Courier New, monospace" font-size="11" fill="#ffffff">inv_fact[n] = (n!)⁻¹ = pow(n!, p-2, p)</text>
  <text x="70" y="365" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Then work backwards:</text>
  <text x="70" y="390" font-family="Courier New, monospace" font-size="11" fill="#f97316">inv_fact[i-1] = inv_fact[i] × i mod p</text>
  <text x="70" y="420" font-family="Courier New, monospace" font-size="11" fill="#888888">Only one modular inverse needed!</text>
  <text x="70" y="440" font-family="Courier New, monospace" font-size="11" fill="#888888">O(n) + O(log p) total</text>
  
  <!-- Example -->
  <rect x="480" y="270" width="370" height="180" rx="10" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="665" y="300" text-anchor="middle" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">EXAMPLE: C(5,2) mod 7</text>
  
  <text x="500" y="335" font-family="Courier New, monospace" font-size="11" fill="#ffffff">fact = [1, 1, 2, 6, 24, 120]</text>
  <text x="500" y="360" font-family="Courier New, monospace" font-size="11" fill="#ffffff">mod 7: [1, 1, 2, 6, 3, 1]</text>
  <text x="500" y="390" font-family="Courier New, monospace" font-size="11" fill="#ffffff">inv_fact[5] = 1⁻¹ mod 7 = 1</text>
  <text x="500" y="415" font-family="Courier New, monospace" font-size="11" fill="#4ade80">C(5,2) = 1 × 4 × 1 = 4 mod 7</text>
  <text x="500" y="440" font-family="Courier New, monospace" font-size="11" fill="#888888">Verify: C(5,2) = 10 ≡ 3 mod 7</text>
</svg>
