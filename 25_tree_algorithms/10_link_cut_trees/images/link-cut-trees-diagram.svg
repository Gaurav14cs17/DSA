<svg viewBox="0 0 950 680" xmlns="http://www.w3.org/2000/svg">
  <rect width="950" height="680" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Link-Cut Trees (Dynamic Trees)</text>
  <text x="475" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Dynamic Tree Operations in O(log n) Amortized</text>
  
  <!-- Left: Represented Forest -->
  <text x="60" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">REPRESENTED FOREST</text>
  
  <!-- Tree 1 -->
  <circle cx="120" cy="160" r="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="3"/>
  <text x="120" y="166" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">A</text>
  
  <circle cx="80" cy="240" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="80" y="246" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">B</text>
  
  <circle cx="160" cy="240" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="160" y="246" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">C</text>
  
  <circle cx="50" cy="310" r="18" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="50" y="316" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">D</text>
  
  <circle cx="110" cy="310" r="18" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="110" y="316" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">E</text>
  
  <line x1="120" y1="182" x2="80" y2="220" stroke="#3b82f6" stroke-width="2"/>
  <line x1="120" y1="182" x2="160" y2="220" stroke="#3b82f6" stroke-width="2"/>
  <line x1="80" y1="260" x2="50" y2="292" stroke="#3b82f6" stroke-width="2"/>
  <line x1="80" y1="260" x2="110" y2="292" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Tree 2 -->
  <circle cx="280" cy="200" r="22" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
  <text x="280" y="206" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">X</text>
  
  <circle cx="240" cy="280" r="20" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="240" y="286" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">Y</text>
  
  <circle cx="320" cy="280" r="20" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="320" y="286" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">Z</text>
  
  <line x1="280" y1="222" x2="240" y2="260" stroke="#f97316" stroke-width="2"/>
  <line x1="280" y1="222" x2="320" y2="260" stroke="#f97316" stroke-width="2"/>
  
  <!-- Operations -->
  <text x="60" y="365" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">OPERATIONS (O(log n) amortized)</text>
  
  <!-- Link operation -->
  <rect x="40" y="380" width="150" height="60" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="115" y="405" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#4ade80" text-anchor="middle">LINK(u, v)</text>
  <text x="115" y="425" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Add edge u-v</text>
  
  <!-- Cut operation -->
  <rect x="210" y="380" width="150" height="60" fill="#1f0f0f" stroke="#ef4444" stroke-width="2" rx="5"/>
  <text x="285" y="405" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#ef4444" text-anchor="middle">CUT(u, v)</text>
  <text x="285" y="425" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Remove edge u-v</text>
  
  <!-- Connected operation -->
  <rect x="40" y="455" width="150" height="60" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="115" y="480" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#3b82f6" text-anchor="middle">CONNECTED</text>
  <text x="115" y="500" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Are u,v in same tree?</text>
  
  <!-- Path query -->
  <rect x="210" y="455" width="150" height="60" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="5"/>
  <text x="285" y="480" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#a78bfa" text-anchor="middle">PATH(u, v)</text>
  <text x="285" y="500" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Query/update path</text>
  
  <!-- Right: Internal Structure -->
  <text x="430" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">INTERNAL STRUCTURE</text>
  <text x="430" y="125" font-family="Courier New, monospace" font-size="11" fill="#888888">Preferred paths stored in splay trees</text>
  
  <!-- Preferred path visualization -->
  <rect x="410" y="145" width="500" height="180" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="10"/>
  
  <!-- Splay tree 1 (heavy path) -->
  <text x="500" y="170" font-family="Courier New, monospace" font-size="10" fill="#4ade80">Preferred Path (Splay Tree)</text>
  
  <circle cx="550" cy="210" r="18" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="550" y="215" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">B</text>
  
  <circle cx="490" cy="260" r="18" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="490" y="265" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">D</text>
  
  <circle cx="610" cy="260" r="18" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="610" y="265" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">A</text>
  
  <circle cx="670" cy="305" r="16" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="670" y="310" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">C</text>
  
  <line x1="550" y1="228" x2="490" y2="242" stroke="#4ade80" stroke-width="2"/>
  <line x1="550" y1="228" x2="610" y2="242" stroke="#4ade80" stroke-width="2"/>
  <line x1="610" y1="278" x2="670" y2="289" stroke="#4ade80" stroke-width="2"/>
  
  <!-- Dotted parent pointer (path parent) -->
  <circle cx="800" cy="220" r="18" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="800" y="225" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">E</text>
  <line x1="628" y1="260" x2="782" y2="225" stroke="#f97316" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="710" y="235" font-family="Courier New, monospace" font-size="9" fill="#f97316">path parent</text>
  
  <!-- Access operation -->
  <text x="430" y="355" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">ACCESS OPERATION (Key)</text>
  
  <rect x="410" y="370" width="500" height="80" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="660" y="395" font-family="Courier New, monospace" font-size="11" fill="#f97316" text-anchor="middle">access(v): Make path from root to v "preferred"</text>
  <text x="420" y="420" font-family="Courier New, monospace" font-size="10" fill="#ffffff">1. Splay v in its splay tree</text>
  <text x="420" y="440" font-family="Courier New, monospace" font-size="10" fill="#ffffff">2. Cut right subtree (disconnect old preferred path)</text>
  <text x="700" y="420" font-family="Courier New, monospace" font-size="10" fill="#ffffff">3. Move to path parent</text>
  <text x="700" y="440" font-family="Courier New, monospace" font-size="10" fill="#ffffff">4. Repeat until at root</text>
  
  <!-- Comparison table -->
  <text x="60" y="545" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">COMPARISON</text>
  
  <rect x="40" y="560" width="120" height="30" fill="#2d1f3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="100" y="580" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Structure</text>
  
  <rect x="160" y="560" width="100" height="30" fill="#2d1f3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="210" y="580" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Link/Cut</text>
  
  <rect x="260" y="560" width="100" height="30" fill="#2d1f3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="310" y="580" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Path Query</text>
  
  <rect x="40" y="590" width="120" height="25" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="100" y="607" font-family="Courier New, monospace" font-size="9" fill="#ffffff" text-anchor="middle">HLD</text>
  
  <rect x="160" y="590" width="100" height="25" fill="#1f0f0f" stroke="#ef4444" stroke-width="1"/>
  <text x="210" y="607" font-family="Courier New, monospace" font-size="9" fill="#ef4444" text-anchor="middle">✗</text>
  
  <rect x="260" y="590" width="100" height="25" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
  <text x="310" y="607" font-family="Courier New, monospace" font-size="9" fill="#ffffff" text-anchor="middle">O(log²n)</text>
  
  <rect x="40" y="615" width="120" height="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="1"/>
  <text x="100" y="632" font-family="Courier New, monospace" font-size="9" fill="#ffffff" text-anchor="middle">Link-Cut Tree</text>
  
  <rect x="160" y="615" width="100" height="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="1"/>
  <text x="210" y="632" font-family="Courier New, monospace" font-size="9" fill="#4ade80" text-anchor="middle">O(log n)</text>
  
  <rect x="260" y="615" width="100" height="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="1"/>
  <text x="310" y="632" font-family="Courier New, monospace" font-size="9" fill="#4ade80" text-anchor="middle">O(log n)</text>
  
  <!-- Use Cases -->
  <text x="430" y="475" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">USE CASES</text>
  
  <rect x="410" y="490" width="230" height="65" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="525" y="515" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">Dynamic Connectivity</text>
  <text x="525" y="535" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Add/remove edges online</text>
  <text x="525" y="550" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Query connectivity</text>
  
  <rect x="660" y="490" width="230" height="65" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="775" y="515" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#4ade80" text-anchor="middle">Dynamic Path Queries</text>
  <text x="775" y="535" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Sum/max on changing paths</text>
  <text x="775" y="550" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">LCA on dynamic trees</text>
  
  <!-- Key insight -->
  <rect x="410" y="565" width="480" height="55" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="650" y="590" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#f97316" text-anchor="middle">KEY INSIGHT</text>
  <text x="650" y="610" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Splay trees give amortized O(log n) access to any path</text>
</svg>
