<svg viewBox="0 0 950 700" xmlns="http://www.w3.org/2000/svg">
  <rect width="950" height="700" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Tree Construction &amp; Serialization</text>
  <text x="475" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Build from Traversals | Serialize/Deserialize</text>
  
  <!-- Section 1: Preorder + Inorder -->
  <text x="60" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">PREORDER + INORDER RECONSTRUCTION</text>
  
  <!-- Traversal boxes -->
  <rect x="40" y="120" width="400" height="35" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="3"/>
  <text x="50" y="143" font-family="Courier New, monospace" font-size="12" fill="#4ade80">Preorder:</text>
  <text x="130" y="143" font-family="Courier New, monospace" font-size="12" fill="#ffffff">[3, 9, 20, 15, 7]</text>
  <text x="290" y="143" font-family="Courier New, monospace" font-size="10" fill="#888888">← Root first</text>
  
  <rect x="40" y="160" width="400" height="35" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="3"/>
  <text x="50" y="183" font-family="Courier New, monospace" font-size="12" fill="#f97316">Inorder: </text>
  <text x="130" y="183" font-family="Courier New, monospace" font-size="12" fill="#ffffff">[9, 3, 15, 20, 7]</text>
  <text x="290" y="183" font-family="Courier New, monospace" font-size="10" fill="#888888">← Left|Root|Right</text>
  
  <!-- Arrow -->
  <text x="240" y="215" font-family="Courier New, monospace" font-size="16" fill="#4ade80">↓</text>
  
  <!-- Resulting Tree -->
  <circle cx="240" cy="260" r="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="3"/>
  <text x="240" y="266" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">3</text>
  
  <circle cx="160" cy="330" r="22" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
  <text x="160" y="336" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">9</text>
  
  <circle cx="320" cy="330" r="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="320" y="336" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">20</text>
  
  <circle cx="260" cy="400" r="22" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="260" y="406" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">15</text>
  
  <circle cx="380" cy="400" r="22" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="380" y="406" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">7</text>
  
  <!-- Edges -->
  <line x1="240" y1="282" x2="160" y2="308" stroke="#3b82f6" stroke-width="2"/>
  <line x1="240" y1="282" x2="320" y2="308" stroke="#3b82f6" stroke-width="2"/>
  <line x1="320" y1="352" x2="260" y2="378" stroke="#3b82f6" stroke-width="2"/>
  <line x1="320" y1="352" x2="380" y2="378" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Algorithm steps -->
  <rect x="40" y="440" width="420" height="80" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="50" y="462" font-family="Courier New, monospace" font-size="11" fill="#4ade80">Algorithm:</text>
  <text x="50" y="482" font-family="Courier New, monospace" font-size="10" fill="#ffffff">1. First element of preorder = ROOT</text>
  <text x="50" y="498" font-family="Courier New, monospace" font-size="10" fill="#ffffff">2. Find root in inorder → splits L/R subtrees</text>
  <text x="50" y="514" font-family="Courier New, monospace" font-size="10" fill="#ffffff">3. Recursively build left and right</text>
  
  <!-- Section 2: Serialization -->
  <text x="520" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">SERIALIZATION FORMATS</text>
  
  <!-- Original Tree -->
  <circle cx="700" cy="160" r="20" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="700" y="166" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">1</text>
  
  <circle cx="640" cy="220" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="640" y="226" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">2</text>
  
  <circle cx="760" cy="220" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="760" y="226" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">3</text>
  
  <circle cx="720" cy="280" r="20" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="720" y="286" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">4</text>
  
  <circle cx="800" cy="280" r="20" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="800" y="286" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">5</text>
  
  <line x1="700" y1="180" x2="640" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="700" y1="180" x2="760" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="760" y1="240" x2="720" y2="260" stroke="#3b82f6" stroke-width="2"/>
  <line x1="760" y1="240" x2="800" y2="260" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Format 1: Preorder -->
  <rect x="500" y="320" width="200" height="50" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="510" y="342" font-family="Courier New, monospace" font-size="11" fill="#4ade80">Preorder (DFS):</text>
  <text x="510" y="360" font-family="Courier New, monospace" font-size="11" fill="#ffffff">"1,2,#,#,3,4,#,#,5"</text>
  
  <!-- Format 2: Level-order -->
  <rect x="720" y="320" width="200" height="50" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="730" y="342" font-family="Courier New, monospace" font-size="11" fill="#f97316">Level-order (BFS):</text>
  <text x="730" y="360" font-family="Courier New, monospace" font-size="11" fill="#ffffff">"1,2,3,#,#,4,5"</text>
  
  <!-- BST from Preorder -->
  <text x="520" y="400" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">BST FROM PREORDER</text>
  
  <rect x="500" y="415" width="180" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="3"/>
  <text x="510" y="435" font-family="Courier New, monospace" font-size="11" fill="#ffffff">Preorder: [8,5,1,7,10,12]</text>
  
  <!-- BST result -->
  <circle cx="600" cy="490" r="18" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="600" y="495" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">8</text>
  
  <circle cx="550" cy="545" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="550" y="550" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">5</text>
  
  <circle cx="650" cy="545" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="650" y="550" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">10</text>
  
  <circle cx="520" cy="600" r="18" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="520" y="605" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">1</text>
  
  <circle cx="580" cy="600" r="18" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="580" y="605" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">7</text>
  
  <circle cx="680" cy="600" r="18" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="680" y="605" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">12</text>
  
  <line x1="600" y1="508" x2="550" y2="527" stroke="#3b82f6" stroke-width="2"/>
  <line x1="600" y1="508" x2="650" y2="527" stroke="#3b82f6" stroke-width="2"/>
  <line x1="550" y1="563" x2="520" y2="582" stroke="#3b82f6" stroke-width="2"/>
  <line x1="550" y1="563" x2="580" y2="582" stroke="#3b82f6" stroke-width="2"/>
  <line x1="650" y1="563" x2="680" y2="582" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Uniqueness Table -->
  <text x="740" y="400" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">UNIQUENESS</text>
  
  <rect x="720" y="415" width="200" height="25" fill="#2d1f3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="730" y="432" font-family="Courier New, monospace" font-size="10" fill="#ffffff">In + Pre ──► ✓ Unique</text>
  
  <rect x="720" y="440" width="200" height="25" fill="#2d1f3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="730" y="457" font-family="Courier New, monospace" font-size="10" fill="#ffffff">In + Post ──► ✓ Unique</text>
  
  <rect x="720" y="465" width="200" height="25" fill="#1f0f0f" stroke="#ef4444" stroke-width="1"/>
  <text x="730" y="482" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Pre + Post ──► ✗ Not unique</text>
  
  <rect x="720" y="490" width="200" height="25" fill="#1f0f0f" stroke="#ef4444" stroke-width="1"/>
  <text x="730" y="507" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Pre only ──► ✗ Not unique</text>
  
  <!-- Complexity Section -->
  <text x="60" y="550" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">COMPLEXITY</text>
  
  <rect x="40" y="565" width="180" height="60" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="130" y="590" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Pre/In → Tree</text>
  <text x="130" y="610" font-family="Courier New, monospace" font-size="12" fill="#60a5fa" text-anchor="middle">O(n) with HashMap</text>
  
  <rect x="240" y="565" width="180" height="60" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="330" y="590" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Serialize/Deserialize</text>
  <text x="330" y="610" font-family="Courier New, monospace" font-size="12" fill="#60a5fa" text-anchor="middle">O(n) time, O(n) space</text>
  
  <!-- Key Insight -->
  <rect x="40" y="640" width="400" height="40" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="50" y="665" font-family="Courier New, monospace" font-size="12" fill="#4ade80">KEY: Inorder + any other traversal = unique tree</text>
  
  <!-- Catalan Numbers -->
  <rect x="720" y="540" width="200" height="80" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="820" y="565" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">CATALAN NUMBERS</text>
  <text x="820" y="585" font-family="Courier New, monospace" font-size="10" fill="#888888" text-anchor="middle">Different BSTs with n nodes:</text>
  <text x="820" y="605" font-family="Courier New, monospace" font-size="10" fill="#a78bfa" text-anchor="middle">Cₙ = (2n)! / ((n+1)!n!)</text>
  <text x="820" y="620" font-family="Courier New, monospace" font-size="9" fill="#888888" text-anchor="middle">1, 1, 2, 5, 14, 42, 132...</text>
</svg>
