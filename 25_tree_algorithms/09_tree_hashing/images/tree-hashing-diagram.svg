<svg viewBox="0 0 950 680" xmlns="http://www.w3.org/2000/svg">
  <rect width="950" height="680" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Tree Hashing &amp; Isomorphism</text>
  <text x="475" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Unique Identifier for Tree Structure | Check Isomorphism in O(n)</text>
  
  <!-- Left: Isomorphic Trees -->
  <text x="60" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">ISOMORPHIC TREES (Same Structure)</text>
  
  <!-- Tree A -->
  <text x="120" y="130" font-family="Courier New, monospace" font-size="12" fill="#4ade80">Tree A</text>
  
  <circle cx="120" cy="170" r="20" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="120" y="176" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">1</text>
  
  <circle cx="80" cy="240" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="80" y="246" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">2</text>
  
  <circle cx="160" cy="240" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="160" y="246" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">3</text>
  
  <circle cx="60" cy="300" r="16" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="60" y="305" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">4</text>
  
  <circle cx="100" cy="300" r="16" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="100" y="305" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">5</text>
  
  <line x1="120" y1="190" x2="80" y2="222" stroke="#3b82f6" stroke-width="2"/>
  <line x1="120" y1="190" x2="160" y2="222" stroke="#3b82f6" stroke-width="2"/>
  <line x1="80" y1="258" x2="60" y2="284" stroke="#3b82f6" stroke-width="2"/>
  <line x1="80" y1="258" x2="100" y2="284" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Tree B (isomorphic) -->
  <text x="300" y="130" font-family="Courier New, monospace" font-size="12" fill="#4ade80">Tree B</text>
  
  <circle cx="300" cy="170" r="20" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="300" y="176" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">A</text>
  
  <circle cx="260" cy="240" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="260" y="246" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">B</text>
  
  <circle cx="340" cy="240" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="340" y="246" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">C</text>
  
  <circle cx="320" cy="300" r="16" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="320" y="305" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">D</text>
  
  <circle cx="360" cy="300" r="16" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="360" y="305" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">E</text>
  
  <line x1="300" y1="190" x2="260" y2="222" stroke="#3b82f6" stroke-width="2"/>
  <line x1="300" y1="190" x2="340" y2="222" stroke="#3b82f6" stroke-width="2"/>
  <line x1="340" y1="258" x2="320" y2="284" stroke="#3b82f6" stroke-width="2"/>
  <line x1="340" y1="258" x2="360" y2="284" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Equals sign -->
  <text x="210" y="230" font-family="Courier New, monospace" font-size="24" fill="#4ade80">≅</text>
  <text x="200" y="255" font-family="Courier New, monospace" font-size="10" fill="#888888">isomorphic</text>
  
  <!-- Hash values -->
  <rect x="60" y="330" width="160" height="35" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="140" y="353" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">hash(A) = 0x3A7F</text>
  
  <rect x="240" y="330" width="160" height="35" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="320" y="353" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">hash(B) = 0x3A7F</text>
  
  <text x="210" y="350" font-family="Courier New, monospace" font-size="14" fill="#ffffff">=</text>
  
  <!-- Right: Hashing Algorithm -->
  <text x="500" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">TREE HASHING ALGORITHM</text>
  
  <!-- Rooted hash formula -->
  <rect x="460" y="125" width="450" height="90" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="685" y="150" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#3b82f6" text-anchor="middle">ROOTED TREE HASH</text>
  <text x="685" y="175" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">hash(v) = 1 + Σ p^hash(child) mod M</text>
  <text x="685" y="200" font-family="Courier New, monospace" font-size="10" fill="#888888" text-anchor="middle">where p = prime base, M = large modulus</text>
  
  <!-- Unordered hash -->
  <rect x="460" y="225" width="220" height="70" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="570" y="250" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#f97316" text-anchor="middle">UNORDERED TREES</text>
  <text x="570" y="275" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Sort children hashes</text>
  <text x="570" y="290" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">before combining</text>
  
  <!-- Unrooted hash -->
  <rect x="695" y="225" width="220" height="70" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="5"/>
  <text x="805" y="250" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#a78bfa" text-anchor="middle">UNROOTED TREES</text>
  <text x="805" y="275" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Find center(s) first</text>
  <text x="805" y="290" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Root at center</text>
  
  <!-- Example computation -->
  <text x="500" y="325" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">HASH COMPUTATION EXAMPLE</text>
  
  <!-- Small tree with hash values -->
  <circle cx="560" cy="380" r="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
  <text x="560" y="385" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">R</text>
  <text x="600" y="370" font-family="Courier New, monospace" font-size="9" fill="#4ade80">h=127</text>
  
  <circle cx="510" cy="450" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="510" y="455" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">A</text>
  <text x="480" y="445" font-family="Courier New, monospace" font-size="9" fill="#3b82f6">h=32</text>
  
  <circle cx="610" cy="450" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="610" y="455" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">B</text>
  <text x="640" y="445" font-family="Courier New, monospace" font-size="9" fill="#3b82f6">h=1</text>
  
  <circle cx="490" cy="510" r="16" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="490" y="515" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">C</text>
  <text x="460" y="510" font-family="Courier New, monospace" font-size="9" fill="#a78bfa">h=1</text>
  
  <circle cx="530" cy="510" r="16" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
  <text x="530" y="515" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">D</text>
  <text x="555" y="510" font-family="Courier New, monospace" font-size="9" fill="#a78bfa">h=1</text>
  
  <line x1="560" y1="402" x2="510" y2="430" stroke="#3b82f6" stroke-width="2"/>
  <line x1="560" y1="402" x2="610" y2="430" stroke="#3b82f6" stroke-width="2"/>
  <line x1="510" y1="470" x2="490" y2="494" stroke="#3b82f6" stroke-width="2"/>
  <line x1="510" y1="470" x2="530" y2="494" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Computation steps -->
  <rect x="680" y="350" width="240" height="130" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="800" y="375" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">POST-ORDER COMPUTATION</text>
  <text x="690" y="400" font-family="Courier New, monospace" font-size="10" fill="#ffffff">hash(C) = hash(D) = 1</text>
  <text x="690" y="420" font-family="Courier New, monospace" font-size="10" fill="#ffffff">hash(B) = 1 (leaf)</text>
  <text x="690" y="440" font-family="Courier New, monospace" font-size="10" fill="#ffffff">hash(A) = 1+p¹+p¹ = 32</text>
  <text x="690" y="460" font-family="Courier New, monospace" font-size="10" fill="#ffffff">hash(R) = 1+p³²+p¹ = 127</text>
  
  <!-- AHU Algorithm -->
  <text x="60" y="400" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">AHU ALGORITHM (No Collisions)</text>
  
  <rect x="40" y="415" width="380" height="100" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="5"/>
  <text x="230" y="440" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#a78bfa" text-anchor="middle">Aho-Hopcroft-Ullman (Canonical Form)</text>
  <text x="50" y="465" font-family="Courier New, monospace" font-size="10" fill="#ffffff">1. Assign labels to leaves (level 0)</text>
  <text x="50" y="485" font-family="Courier New, monospace" font-size="10" fill="#ffffff">2. Label internal nodes based on sorted children</text>
  <text x="50" y="505" font-family="Courier New, monospace" font-size="10" fill="#ffffff">3. Two trees isomorphic ⟺ root labels match</text>
  
  <!-- Applications -->
  <text x="60" y="545" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">APPLICATIONS</text>
  
  <rect x="40" y="560" width="200" height="70" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="140" y="585" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">Isomorphism Check</text>
  <text x="140" y="605" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Compare hashes in O(1)</text>
  <text x="140" y="620" font-family="Courier New, monospace" font-size="10" fill="#60a5fa" text-anchor="middle">Build: O(n)</text>
  
  <rect x="260" y="560" width="200" height="70" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="360" y="585" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#4ade80" text-anchor="middle">Duplicate Subtrees</text>
  <text x="360" y="605" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Find repeating patterns</text>
  <text x="360" y="620" font-family="Courier New, monospace" font-size="10" fill="#60a5fa" text-anchor="middle">Hash map lookup</text>
  
  <rect x="480" y="560" width="200" height="70" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="580" y="585" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#f97316" text-anchor="middle">Pattern Matching</text>
  <text x="580" y="605" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Find subtree in tree</text>
  <text x="580" y="620" font-family="Courier New, monospace" font-size="10" fill="#60a5fa" text-anchor="middle">O(n) precompute</text>
  
  <!-- Complexity -->
  <rect x="700" y="560" width="200" height="70" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="800" y="585" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">COMPLEXITY</text>
  <text x="800" y="610" font-family="Courier New, monospace" font-size="10" fill="#60a5fa" text-anchor="middle">Hash: O(n) rooted</text>
  <text x="800" y="625" font-family="Courier New, monospace" font-size="10" fill="#60a5fa" text-anchor="middle">O(n log n) unrooted</text>
</svg>
