<svg viewBox="0 0 950 680" xmlns="http://www.w3.org/2000/svg">
  <rect width="950" height="680" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Virtual Trees (Auxiliary Trees)</text>
  <text x="475" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Compress Tree to Important Nodes + LCAs | Size ≤ 2k-1</text>
  
  <!-- Left: Original Tree -->
  <text x="60" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">ORIGINAL TREE (n=11)</text>
  
  <!-- Full tree -->
  <circle cx="180" cy="150" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="180" y="156" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">1</text>
  
  <circle cx="100" cy="220" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="100" y="226" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">2</text>
  
  <circle cx="260" cy="220" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="260" y="226" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">3</text>
  
  <circle cx="60" cy="290" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="60" y="296" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">4</text>
  
  <circle cx="140" cy="290" r="20" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
  <text x="140" y="296" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">5</text>
  <text x="140" y="270" font-family="Courier New, monospace" font-size="9" fill="#f97316" text-anchor="middle">★</text>
  
  <circle cx="220" cy="290" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="220" y="296" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">6</text>
  
  <circle cx="300" cy="290" r="20" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="300" y="296" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">7</text>
  
  <circle cx="40" cy="360" r="18" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
  <text x="40" y="366" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">8</text>
  <text x="40" y="346" font-family="Courier New, monospace" font-size="9" fill="#f97316" text-anchor="middle">★</text>
  
  <circle cx="80" cy="360" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="80" y="366" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">9</text>
  
  <circle cx="280" cy="360" r="18" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
  <text x="280" y="366" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">10</text>
  <text x="280" y="346" font-family="Courier New, monospace" font-size="9" fill="#f97316" text-anchor="middle">★</text>
  
  <circle cx="320" cy="360" r="18" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="320" y="366" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">11</text>
  
  <!-- Edges -->
  <line x1="180" y1="170" x2="100" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="180" y1="170" x2="260" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="100" y1="240" x2="60" y2="270" stroke="#3b82f6" stroke-width="2"/>
  <line x1="100" y1="240" x2="140" y2="270" stroke="#3b82f6" stroke-width="2"/>
  <line x1="260" y1="240" x2="220" y2="270" stroke="#3b82f6" stroke-width="2"/>
  <line x1="260" y1="240" x2="300" y2="270" stroke="#3b82f6" stroke-width="2"/>
  <line x1="60" y1="310" x2="40" y2="342" stroke="#3b82f6" stroke-width="2"/>
  <line x1="60" y1="310" x2="80" y2="342" stroke="#3b82f6" stroke-width="2"/>
  <line x1="300" y1="310" x2="280" y2="342" stroke="#3b82f6" stroke-width="2"/>
  <line x1="300" y1="310" x2="320" y2="342" stroke="#3b82f6" stroke-width="2"/>
  
  <!-- Legend -->
  <text x="60" y="405" font-family="Courier New, monospace" font-size="11" fill="#f97316">★ = Important nodes (k=4)</text>
  <text x="60" y="420" font-family="Courier New, monospace" font-size="11" fill="#888888">{5, 8, 10} + LCAs</text>
  
  <!-- Arrow -->
  <text x="380" y="260" font-family="Courier New, monospace" font-size="24" fill="#4ade80">→</text>
  <text x="380" y="290" font-family="Courier New, monospace" font-size="11" fill="#4ade80">Compress</text>
  
  <!-- Right: Virtual Tree -->
  <text x="500" y="105" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">VIRTUAL TREE (size ≤ 2k-1 = 5)</text>
  
  <!-- Virtual tree nodes -->
  <circle cx="620" cy="160" r="24" fill="#0f2f1f" stroke="#4ade80" stroke-width="3"/>
  <text x="620" y="166" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">1</text>
  <text x="620" y="140" font-family="Courier New, monospace" font-size="9" fill="#4ade80" text-anchor="middle">LCA</text>
  
  <circle cx="540" cy="250" r="24" fill="#0f2f1f" stroke="#4ade80" stroke-width="3"/>
  <text x="540" y="256" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">2</text>
  <text x="540" y="230" font-family="Courier New, monospace" font-size="9" fill="#4ade80" text-anchor="middle">LCA</text>
  
  <circle cx="700" cy="250" r="24" fill="#0f2f1f" stroke="#4ade80" stroke-width="3"/>
  <text x="700" y="256" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">7</text>
  <text x="700" y="230" font-family="Courier New, monospace" font-size="9" fill="#4ade80" text-anchor="middle">LCA</text>
  
  <circle cx="480" cy="340" r="24" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
  <text x="480" y="346" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">5</text>
  <text x="505" y="330" font-family="Courier New, monospace" font-size="9" fill="#f97316">★</text>
  
  <circle cx="600" cy="340" r="24" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
  <text x="600" y="346" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">8</text>
  <text x="625" y="330" font-family="Courier New, monospace" font-size="9" fill="#f97316">★</text>
  
  <circle cx="700" cy="340" r="24" fill="#3d1f0f" stroke="#f97316" stroke-width="3"/>
  <text x="700" y="346" font-family="Courier New, monospace" font-size="14" fill="#ffffff" text-anchor="middle">10</text>
  <text x="725" y="330" font-family="Courier New, monospace" font-size="9" fill="#f97316">★</text>
  
  <!-- Virtual tree edges with weights -->
  <line x1="620" y1="184" x2="540" y2="226" stroke="#4ade80" stroke-width="3"/>
  <text x="565" y="200" font-family="Courier New, monospace" font-size="10" fill="#888888">d=1</text>
  
  <line x1="620" y1="184" x2="700" y2="226" stroke="#4ade80" stroke-width="3"/>
  <text x="675" y="200" font-family="Courier New, monospace" font-size="10" fill="#888888">d=2</text>
  
  <line x1="540" y1="274" x2="480" y2="316" stroke="#4ade80" stroke-width="3"/>
  <text x="495" y="295" font-family="Courier New, monospace" font-size="10" fill="#888888">d=1</text>
  
  <line x1="540" y1="274" x2="600" y2="316" stroke="#4ade80" stroke-width="3"/>
  <text x="585" y="295" font-family="Courier New, monospace" font-size="10" fill="#888888">d=2</text>
  
  <line x1="700" y1="274" x2="700" y2="316" stroke="#4ade80" stroke-width="3"/>
  <text x="715" y="300" font-family="Courier New, monospace" font-size="10" fill="#888888">d=1</text>
  
  <!-- Construction Algorithm -->
  <text x="60" y="460" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">CONSTRUCTION ALGORITHM</text>
  
  <rect x="40" y="475" width="400" height="100" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="50" y="498" font-family="Courier New, monospace" font-size="11" fill="#4ade80">1. Sort important nodes by DFS time (Euler tour)</text>
  <text x="50" y="518" font-family="Courier New, monospace" font-size="11" fill="#f97316">2. For consecutive pairs, add their LCA</text>
  <text x="50" y="538" font-family="Courier New, monospace" font-size="11" fill="#a78bfa">3. Build tree using stack (maintain ancestors)</text>
  <text x="50" y="558" font-family="Courier New, monospace" font-size="11" fill="#ffffff">4. Edge weights = distances in original tree</text>
  
  <!-- Complexity -->
  <rect x="40" y="590" width="180" height="70" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="130" y="615" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#4ade80" text-anchor="middle">BUILD</text>
  <text x="130" y="640" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">O(k log k)</text>
  <text x="130" y="655" font-family="Courier New, monospace" font-size="10" fill="#888888" text-anchor="middle">k = important nodes</text>
  
  <rect x="240" y="590" width="180" height="70" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="330" y="615" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#f97316" text-anchor="middle">SIZE</text>
  <text x="330" y="640" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">≤ 2k - 1 nodes</text>
  <text x="330" y="655" font-family="Courier New, monospace" font-size="10" fill="#888888" text-anchor="middle">k nodes + k-1 LCAs</text>
  
  <!-- Applications -->
  <text x="500" y="410" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">APPLICATIONS</text>
  
  <rect x="460" y="425" width="220" height="70" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" rx="5"/>
  <text x="570" y="450" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">Path Sum between k nodes</text>
  <text x="570" y="472" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Naive: O(k² n)</text>
  <text x="570" y="488" font-family="Courier New, monospace" font-size="10" fill="#4ade80" text-anchor="middle">Virtual Tree: O(k log k)</text>
  
  <rect x="700" y="425" width="220" height="70" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2" rx="5"/>
  <text x="810" y="450" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#a78bfa" text-anchor="middle">Steiner Tree (connect k)</text>
  <text x="810" y="472" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Min cost to connect subset</text>
  <text x="810" y="488" font-family="Courier New, monospace" font-size="10" fill="#4ade80" text-anchor="middle">O(2^k · k log k)</text>
  
  <rect x="460" y="505" width="220" height="70" fill="#0f2f1f" stroke="#4ade80" stroke-width="2" rx="5"/>
  <text x="570" y="530" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#4ade80" text-anchor="middle">k-Subgraph Queries</text>
  <text x="570" y="552" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Operations on induced</text>
  <text x="570" y="568" font-family="Courier New, monospace" font-size="10" fill="#ffffff" text-anchor="middle">subgraph of k nodes</text>
  
  <!-- Key Insight -->
  <rect x="460" y="590" width="460" height="65" fill="#3d1f0f" stroke="#f97316" stroke-width="2" rx="5"/>
  <text x="690" y="615" font-family="Courier New, monospace" font-size="12" font-weight="bold" fill="#f97316" text-anchor="middle">KEY INSIGHT</text>
  <text x="690" y="640" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Virtual tree preserves tree structure between important nodes</text>
  <text x="690" y="655" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Useful when k &lt;&lt; n (sparse queries on large tree)</text>
</svg>
