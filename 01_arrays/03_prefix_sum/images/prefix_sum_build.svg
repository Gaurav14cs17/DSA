<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 420">
  <defs>
    <linearGradient id="bgGrad6" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="origCell" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="prefixCell" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e8449;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="zeroCell" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#7f8c8d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#636e72;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="420" fill="url(#bgGrad6)"/>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Segoe UI, Arial" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Building Prefix Sum Array</text>
  <text x="400" y="65" font-family="Segoe UI, Arial" font-size="14" fill="#88ccff" text-anchor="middle">P[i] = P[i-1] + A[i-1] | O(n) preprocessing for O(1) range queries</text>
  
  <!-- Original Array -->
  <text x="50" y="110" font-family="Segoe UI, Arial" font-size="16" font-weight="bold" fill="#3498db">Original Array A:</text>
  <g transform="translate(50, 120)">
    <rect x="0" y="0" width="70" height="50" rx="6" fill="url(#origCell)" stroke="#5dade2" stroke-width="2"/>
    <text x="35" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">3</text>
    <text x="35" y="65" font-family="Consolas" font-size="11" fill="#5dade2" text-anchor="middle">A[0]</text>
    
    <rect x="80" y="0" width="70" height="50" rx="6" fill="url(#origCell)" stroke="#5dade2" stroke-width="2"/>
    <text x="115" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">1</text>
    <text x="115" y="65" font-family="Consolas" font-size="11" fill="#5dade2" text-anchor="middle">A[1]</text>
    
    <rect x="160" y="0" width="70" height="50" rx="6" fill="url(#origCell)" stroke="#5dade2" stroke-width="2"/>
    <text x="195" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">-2</text>
    <text x="195" y="65" font-family="Consolas" font-size="11" fill="#5dade2" text-anchor="middle">A[2]</text>
    
    <rect x="240" y="0" width="70" height="50" rx="6" fill="url(#origCell)" stroke="#5dade2" stroke-width="2"/>
    <text x="275" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">5</text>
    <text x="275" y="65" font-family="Consolas" font-size="11" fill="#5dade2" text-anchor="middle">A[3]</text>
    
    <rect x="320" y="0" width="70" height="50" rx="6" fill="url(#origCell)" stroke="#5dade2" stroke-width="2"/>
    <text x="355" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">-1</text>
    <text x="355" y="65" font-family="Consolas" font-size="11" fill="#5dade2" text-anchor="middle">A[4]</text>
  </g>
  
  <!-- Arrow -->
  <path d="M 400 200 L 400 230" stroke="#88ccff" stroke-width="3" fill="none" marker-end="url(#arrowDownBlue)"/>
  <text x="450" y="220" font-family="Segoe UI, Arial" font-size="12" fill="#88ccff">Build Prefix</text>
  <defs>
    <marker id="arrowDownBlue" markerWidth="10" markerHeight="7" refX="5" refY="7" orient="auto">
      <polygon points="0 0, 10 0, 5 7" fill="#88ccff"/>
    </marker>
  </defs>
  
  <!-- Prefix Sum Array -->
  <text x="50" y="260" font-family="Segoe UI, Arial" font-size="16" font-weight="bold" fill="#27ae60">Prefix Sum Array P:</text>
  <g transform="translate(50, 270)">
    <!-- P[0] = 0 -->
    <rect x="0" y="0" width="60" height="50" rx="6" fill="url(#zeroCell)" stroke="#95a5a6" stroke-width="2"/>
    <text x="30" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">0</text>
    <text x="30" y="65" font-family="Consolas" font-size="11" fill="#95a5a6" text-anchor="middle">P[0]</text>
    
    <!-- P[1] = 3 -->
    <rect x="70" y="0" width="60" height="50" rx="6" fill="url(#prefixCell)" stroke="#2ecc71" stroke-width="2"/>
    <text x="100" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">3</text>
    <text x="100" y="65" font-family="Consolas" font-size="11" fill="#2ecc71" text-anchor="middle">P[1]</text>
    
    <!-- P[2] = 4 -->
    <rect x="140" y="0" width="60" height="50" rx="6" fill="url(#prefixCell)" stroke="#2ecc71" stroke-width="2"/>
    <text x="170" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">4</text>
    <text x="170" y="65" font-family="Consolas" font-size="11" fill="#2ecc71" text-anchor="middle">P[2]</text>
    
    <!-- P[3] = 2 -->
    <rect x="210" y="0" width="60" height="50" rx="6" fill="url(#prefixCell)" stroke="#2ecc71" stroke-width="2"/>
    <text x="240" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">2</text>
    <text x="240" y="65" font-family="Consolas" font-size="11" fill="#2ecc71" text-anchor="middle">P[3]</text>
    
    <!-- P[4] = 7 -->
    <rect x="280" y="0" width="60" height="50" rx="6" fill="url(#prefixCell)" stroke="#2ecc71" stroke-width="2"/>
    <text x="310" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">7</text>
    <text x="310" y="65" font-family="Consolas" font-size="11" fill="#2ecc71" text-anchor="middle">P[4]</text>
    
    <!-- P[5] = 6 -->
    <rect x="350" y="0" width="60" height="50" rx="6" fill="url(#prefixCell)" stroke="#2ecc71" stroke-width="2"/>
    <text x="380" y="32" font-family="Consolas" font-size="20" fill="#fff" text-anchor="middle">6</text>
    <text x="380" y="65" font-family="Consolas" font-size="11" fill="#2ecc71" text-anchor="middle">P[5]</text>
  </g>
  
  <!-- Calculation Steps Box -->
  <rect x="480" y="120" width="280" height="200" rx="10" fill="#0d1b2a" stroke="#4a90a4" stroke-width="2"/>
  <text x="620" y="150" font-family="Segoe UI, Arial" font-size="15" font-weight="bold" fill="#ffffff" text-anchor="middle">Building Steps:</text>
  
  <text x="500" y="180" font-family="Consolas" font-size="13" fill="#95a5a6">P[0] = 0</text>
  <text x="670" y="180" font-family="Segoe UI" font-size="11" fill="#7f8c8d">(base)</text>
  
  <text x="500" y="205" font-family="Consolas" font-size="13" fill="#2ecc71">P[1] = P[0] + A[0] = 0 + 3 = 3</text>
  
  <text x="500" y="230" font-family="Consolas" font-size="13" fill="#2ecc71">P[2] = P[1] + A[1] = 3 + 1 = 4</text>
  
  <text x="500" y="255" font-family="Consolas" font-size="13" fill="#2ecc71">P[3] = P[2] + A[2] = 4 - 2 = 2</text>
  
  <text x="500" y="280" font-family="Consolas" font-size="13" fill="#2ecc71">P[4] = P[3] + A[3] = 2 + 5 = 7</text>
  
  <text x="500" y="305" font-family="Consolas" font-size="13" fill="#2ecc71">P[5] = P[4] + A[4] = 7 - 1 = 6</text>
  
  <!-- Formula Box -->
  <rect x="50" y="360" width="700" height="45" rx="10" fill="#0d1b2a" stroke="#9b59b6" stroke-width="2"/>
  <text x="400" y="388" font-family="Consolas" font-size="15" fill="#bb8fce" text-anchor="middle">P[i] represents sum of first i elements: P[i] = A[0] + A[1] + ... + A[i-1]</text>
</svg>

