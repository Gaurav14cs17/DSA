<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 480">
  <defs>
    <linearGradient id="bgGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="negCell" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="posCell" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e8449;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="maxCell" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f39c12;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d68910;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="850" height="480" fill="url(#bgGrad4)"/>
  
  <!-- Title -->
  <text x="425" y="40" font-family="Segoe UI, Arial" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Kadane's Algorithm</text>
  <text x="425" y="65" font-family="Segoe UI, Arial" font-size="14" fill="#88ccff" text-anchor="middle">Maximum Subarray Sum | O(n) Time, O(1) Space</text>
  
  <!-- Array Display -->
  <text x="50" y="105" font-family="Segoe UI, Arial" font-size="14" font-weight="bold" fill="#ffffff">Input Array:</text>
  
  <g transform="translate(50, 115)">
    <!-- Cell -2 -->
    <rect x="0" y="0" width="70" height="45" rx="6" fill="url(#negCell)" stroke="#e74c3c" stroke-width="2"/>
    <text x="35" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">-2</text>
    <text x="35" y="58" font-family="Consolas" font-size="11" fill="#aaa" text-anchor="middle">i=0</text>
    
    <!-- Cell 1 -->
    <rect x="80" y="0" width="70" height="45" rx="6" fill="url(#posCell)" stroke="#27ae60" stroke-width="2"/>
    <text x="115" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">1</text>
    <text x="115" y="58" font-family="Consolas" font-size="11" fill="#aaa" text-anchor="middle">i=1</text>
    
    <!-- Cell -3 -->
    <rect x="160" y="0" width="70" height="45" rx="6" fill="url(#negCell)" stroke="#e74c3c" stroke-width="2"/>
    <text x="195" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">-3</text>
    <text x="195" y="58" font-family="Consolas" font-size="11" fill="#aaa" text-anchor="middle">i=2</text>
    
    <!-- Cell 4 (start of max) -->
    <rect x="240" y="0" width="70" height="45" rx="6" fill="url(#maxCell)" stroke="#f1c40f" stroke-width="3"/>
    <text x="275" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">4</text>
    <text x="275" y="58" font-family="Consolas" font-size="11" fill="#f1c40f" text-anchor="middle">i=3</text>
    
    <!-- Cell -1 -->
    <rect x="320" y="0" width="70" height="45" rx="6" fill="url(#maxCell)" stroke="#f1c40f" stroke-width="3"/>
    <text x="355" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">-1</text>
    <text x="355" y="58" font-family="Consolas" font-size="11" fill="#f1c40f" text-anchor="middle">i=4</text>
    
    <!-- Cell 2 -->
    <rect x="400" y="0" width="70" height="45" rx="6" fill="url(#maxCell)" stroke="#f1c40f" stroke-width="3"/>
    <text x="435" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">2</text>
    <text x="435" y="58" font-family="Consolas" font-size="11" fill="#f1c40f" text-anchor="middle">i=5</text>
    
    <!-- Cell 1 -->
    <rect x="480" y="0" width="70" height="45" rx="6" fill="url(#maxCell)" stroke="#f1c40f" stroke-width="3"/>
    <text x="515" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">1</text>
    <text x="515" y="58" font-family="Consolas" font-size="11" fill="#f1c40f" text-anchor="middle">i=6</text>
    
    <!-- Cell -5 -->
    <rect x="560" y="0" width="70" height="45" rx="6" fill="url(#negCell)" stroke="#e74c3c" stroke-width="2"/>
    <text x="595" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">-5</text>
    <text x="595" y="58" font-family="Consolas" font-size="11" fill="#aaa" text-anchor="middle">i=7</text>
    
    <!-- Cell 4 -->
    <rect x="640" y="0" width="70" height="45" rx="6" fill="url(#posCell)" stroke="#27ae60" stroke-width="2"/>
    <text x="675" y="30" font-family="Consolas" font-size="18" fill="#fff" text-anchor="middle">4</text>
    <text x="675" y="58" font-family="Consolas" font-size="11" fill="#aaa" text-anchor="middle">i=8</text>
  </g>
  
  <!-- Max Subarray Bracket -->
  <path d="M 290 180 L 290 195 L 550 195 L 550 180" stroke="#f1c40f" stroke-width="3" fill="none"/>
  <text x="420" y="215" font-family="Segoe UI, Arial" font-size="14" font-weight="bold" fill="#f1c40f" text-anchor="middle">Maximum Subarray: [4,-1,2,1] = 6</text>
  
  <!-- Core Formula -->
  <rect x="50" y="235" width="350" height="70" rx="10" fill="#0d1b2a" stroke="#9b59b6" stroke-width="2"/>
  <text x="225" y="262" font-family="Segoe UI, Arial" font-size="16" font-weight="bold" fill="#9b59b6" text-anchor="middle">Core Recurrence:</text>
  <text x="225" y="290" font-family="Consolas" font-size="15" fill="#ffffff" text-anchor="middle">M[i] = max(A[i], M[i-1] + A[i])</text>
  
  <!-- Decision Box -->
  <rect x="420" y="235" width="380" height="70" rx="10" fill="#0d1b2a" stroke="#3498db" stroke-width="2"/>
  <text x="610" y="262" font-family="Segoe UI, Arial" font-size="16" font-weight="bold" fill="#3498db" text-anchor="middle">Decision at Each Step:</text>
  <text x="610" y="290" font-family="Segoe UI, Arial" font-size="14" fill="#ffffff" text-anchor="middle">Extend current sum OR Start fresh?</text>
  
  <!-- Trace Table -->
  <rect x="50" y="320" width="750" height="140" rx="10" fill="#0d1b2a" stroke="#4a90a4" stroke-width="2"/>
  
  <!-- Table Headers -->
  <text x="100" y="350" font-family="Segoe UI, Arial" font-size="13" font-weight="bold" fill="#88ccff" text-anchor="middle">Index</text>
  <text x="180" y="350" font-family="Segoe UI, Arial" font-size="13" font-weight="bold" fill="#88ccff" text-anchor="middle">Value</text>
  <text x="320" y="350" font-family="Segoe UI, Arial" font-size="13" font-weight="bold" fill="#88ccff" text-anchor="middle">max_ending</text>
  <text x="480" y="350" font-family="Segoe UI, Arial" font-size="13" font-weight="bold" fill="#88ccff" text-anchor="middle">max_so_far</text>
  <text x="650" y="350" font-family="Segoe UI, Arial" font-size="13" font-weight="bold" fill="#88ccff" text-anchor="middle">Decision</text>
  
  <line x1="60" y1="360" x2="790" y2="360" stroke="#4a5568" stroke-width="1"/>
  
  <!-- Row 0 -->
  <text x="100" y="380" font-family="Consolas" font-size="12" fill="#aaa" text-anchor="middle">0</text>
  <text x="180" y="380" font-family="Consolas" font-size="12" fill="#e74c3c" text-anchor="middle">-2</text>
  <text x="320" y="380" font-family="Consolas" font-size="12" fill="#fff" text-anchor="middle">-2</text>
  <text x="480" y="380" font-family="Consolas" font-size="12" fill="#fff" text-anchor="middle">-2</text>
  <text x="650" y="380" font-family="Segoe UI, Arial" font-size="11" fill="#aaa" text-anchor="middle">Initialize</text>
  
  <!-- Row 1 -->
  <text x="100" y="400" font-family="Consolas" font-size="12" fill="#aaa" text-anchor="middle">1</text>
  <text x="180" y="400" font-family="Consolas" font-size="12" fill="#27ae60" text-anchor="middle">1</text>
  <text x="320" y="400" font-family="Consolas" font-size="12" fill="#fff" text-anchor="middle">max(-1, 1) = 1</text>
  <text x="480" y="400" font-family="Consolas" font-size="12" fill="#fff" text-anchor="middle">1</text>
  <text x="650" y="400" font-family="Segoe UI, Arial" font-size="11" fill="#27ae60" text-anchor="middle">Start Fresh ✨</text>
  
  <!-- Row 3 -->
  <text x="100" y="420" font-family="Consolas" font-size="12" fill="#aaa" text-anchor="middle">3</text>
  <text x="180" y="420" font-family="Consolas" font-size="12" fill="#27ae60" text-anchor="middle">4</text>
  <text x="320" y="420" font-family="Consolas" font-size="12" fill="#fff" text-anchor="middle">max(2, 4) = 4</text>
  <text x="480" y="420" font-family="Consolas" font-size="12" fill="#fff" text-anchor="middle">4</text>
  <text x="650" y="420" font-family="Segoe UI, Arial" font-size="11" fill="#27ae60" text-anchor="middle">Start Fresh ✨</text>
  
  <!-- Row 6 -->
  <text x="100" y="440" font-family="Consolas" font-size="12" fill="#f1c40f" text-anchor="middle">6</text>
  <text x="180" y="440" font-family="Consolas" font-size="12" fill="#27ae60" text-anchor="middle">1</text>
  <text x="320" y="440" font-family="Consolas" font-size="12" fill="#f1c40f" text-anchor="middle">max(6, 1) = 6</text>
  <text x="480" y="440" font-family="Consolas" font-size="12" fill="#f1c40f" text-anchor="middle">6 ← MAX</text>
  <text x="650" y="440" font-family="Segoe UI, Arial" font-size="11" fill="#3498db" text-anchor="middle">Extend</text>
</svg>

