<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <rect width="900" height="600" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff">Randomized Algorithms</text>
  <text x="450" y="65" text-anchor="middle" font-family="Courier New, monospace" font-size="16" fill="#888888">Leverage Probability for Elegant Solutions</text>
  
  <!-- Reservoir Sampling -->
  <text x="50" y="110" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Reservoir Sampling</text>
  
  <g transform="translate(50, 130)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">Select k items from stream of unknown length</text>
    
    <!-- Stream visualization -->
    <g transform="translate(0, 25)">
      <rect x="0" y="0" width="25" height="25" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
      <text x="12" y="17" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">1</text>
      
      <rect x="28" y="0" width="25" height="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <text x="40" y="17" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#4ade80">2</text>
      
      <rect x="56" y="0" width="25" height="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <text x="68" y="17" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#4ade80">3</text>
      
      <rect x="84" y="0" width="25" height="25" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
      <text x="96" y="17" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">4</text>
      
      <text x="120" y="17" font-family="Courier New, monospace" font-size="14" fill="#888888">...</text>
      
      <rect x="145" y="0" width="25" height="25" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <text x="157" y="17" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#4ade80">n</text>
      
      <text x="185" y="17" font-family="Courier New, monospace" font-size="10" fill="#888888">k=2</text>
    </g>
    
    <text x="0" y="80" font-family="Courier New, monospace" font-size="10" fill="#ffffff">For item i: replace random with prob k/(i+1)</text>
    <text x="0" y="98" font-family="Courier New, monospace" font-size="10" fill="#4ade80">P(item in final) = k/n for all items ✓</text>
    <text x="0" y="120" font-family="Courier New, monospace" font-size="12" fill="#60a5fa">Time: O(n) | Space: O(k)</text>
  </g>
  
  <!-- Fisher-Yates Shuffle -->
  <text x="320" y="110" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Fisher-Yates Shuffle</text>
  
  <g transform="translate(320, 130)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">Generate uniform random permutation</text>
    
    <g transform="translate(0, 25)">
      <rect x="0" y="0" width="25" height="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
      <text x="12" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">A</text>
      
      <rect x="28" y="0" width="25" height="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
      <text x="40" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#ffffff">B</text>
      
      <rect x="56" y="0" width="25" height="22" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
      <text x="68" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#f97316">C</text>
      
      <rect x="84" y="0" width="25" height="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <text x="96" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#4ade80">D</text>
      
      <!-- Swap arrow -->
      <path d="M 68 28 Q 68 45 96 45 Q 96 28 96 28" fill="none" stroke="#a78bfa" stroke-width="1.5"/>
      <text x="82" y="55" text-anchor="middle" font-family="Courier New, monospace" font-size="8" fill="#a78bfa">swap</text>
    </g>
    
    <text x="0" y="85" font-family="Courier New, monospace" font-size="10" fill="#ffffff">for i = n-1 to 1:</text>
    <text x="10" y="100" font-family="Courier New, monospace" font-size="10" fill="#888888">j = random(0, i)</text>
    <text x="10" y="115" font-family="Courier New, monospace" font-size="10" fill="#888888">swap(arr[i], arr[j])</text>
    <text x="0" y="135" font-family="Courier New, monospace" font-size="12" fill="#60a5fa">Time: O(n) | Space: O(1)</text>
  </g>
  
  <!-- QuickSelect -->
  <text x="600" y="110" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">QuickSelect</text>
  
  <g transform="translate(600, 130)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">Find k-th smallest in O(n) expected</text>
    
    <g transform="translate(0, 25)">
      <!-- Array partitioned around pivot -->
      <rect x="0" y="0" width="60" height="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
      <text x="30" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">&lt; pivot</text>
      
      <rect x="65" y="0" width="35" height="22" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
      <text x="82" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="10" fill="#f97316">P</text>
      
      <rect x="105" y="0" width="60" height="22" fill="#0f2f1f" stroke="#4ade80" stroke-width="1"/>
      <text x="135" y="15" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#888888">&gt; pivot</text>
    </g>
    
    <text x="0" y="70" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Random pivot avoids worst case</text>
    <text x="0" y="88" font-family="Courier New, monospace" font-size="10" fill="#888888">T(n) = T(n/2) + O(n)</text>
    <text x="0" y="108" font-family="Courier New, monospace" font-size="12" fill="#4ade80">Expected: O(n)</text>
    <text x="0" y="125" font-family="Courier New, monospace" font-size="12" fill="#ef4444">Worst: O(n²)</text>
  </g>
  
  <!-- Weighted Random Sampling -->
  <text x="50" y="300" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Weighted Random Sampling</text>
  
  <g transform="translate(50, 320)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">Sample with probability ∝ weight</text>
    
    <!-- Weight bars -->
    <g transform="translate(0, 20)">
      <rect x="0" y="30" width="30" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
      <text x="15" y="50" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#ffffff">w=1</text>
      
      <rect x="35" y="0" width="30" height="60" fill="#3d1f0f" stroke="#f97316" stroke-width="1"/>
      <text x="50" y="35" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#ffffff">w=3</text>
      
      <rect x="70" y="20" width="30" height="40" fill="#0f2f1f" stroke="#4ade80" stroke-width="1"/>
      <text x="85" y="45" text-anchor="middle" font-family="Courier New, monospace" font-size="9" fill="#ffffff">w=2</text>
      
      <text x="110" y="50" font-family="Courier New, monospace" font-size="10" fill="#888888">prefix sum + binary search</text>
    </g>
    
    <text x="0" y="110" font-family="Courier New, monospace" font-size="12" fill="#60a5fa">Time: O(log n) per sample</text>
  </g>
  
  <!-- Skip List -->
  <text x="350" y="300" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Skip List</text>
  
  <g transform="translate(350, 320)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="11" fill="#888888">Randomized BST alternative</text>
    
    <!-- Skip list levels -->
    <g transform="translate(0, 25)">
      <!-- Level 2 -->
      <circle cx="20" cy="10" r="8" fill="#0f2f1f" stroke="#4ade80" stroke-width="1.5"/>
      <text x="20" y="13" text-anchor="middle" font-family="Courier New, monospace" font-size="8" fill="#4ade80">H</text>
      <line x1="28" y1="10" x2="100" y2="10" stroke="#4ade80" stroke-width="1"/>
      <circle cx="110" cy="10" r="8" fill="#0f2f1f" stroke="#4ade80" stroke-width="1.5"/>
      <text x="110" y="13" text-anchor="middle" font-family="Courier New, monospace" font-size="8" fill="#ffffff">7</text>
      <line x1="118" y1="10" x2="180" y2="10" stroke="#4ade80" stroke-width="1"/>
      
      <!-- Level 1 -->
      <circle cx="20" cy="35" r="8" fill="#3d1f0f" stroke="#f97316" stroke-width="1.5"/>
      <text x="20" y="38" text-anchor="middle" font-family="Courier New, monospace" font-size="8" fill="#f97316">H</text>
      <line x1="28" y1="35" x2="55" y2="35" stroke="#f97316" stroke-width="1"/>
      <circle cx="65" cy="35" r="8" fill="#3d1f0f" stroke="#f97316" stroke-width="1.5"/>
      <text x="65" y="38" text-anchor="middle" font-family="Courier New, monospace" font-size="8" fill="#ffffff">3</text>
      <line x1="73" y1="35" x2="100" y2="35" stroke="#f97316" stroke-width="1"/>
      <circle cx="110" cy="35" r="8" fill="#3d1f0f" stroke="#f97316" stroke-width="1.5"/>
      <text x="110" y="38" text-anchor="middle" font-family="Courier New, monospace" font-size="8" fill="#ffffff">7</text>
      <line x1="118" y1="35" x2="145" y2="35" stroke="#f97316" stroke-width="1"/>
      <circle cx="155" cy="35" r="8" fill="#3d1f0f" stroke="#f97316" stroke-width="1.5"/>
      <text x="155" y="38" text-anchor="middle" font-family="Courier New, monospace" font-size="8" fill="#ffffff">9</text>
      
      <!-- Level 0 -->
      <text x="0" y="68" font-family="Courier New, monospace" font-size="9" fill="#888888">1→3→5→7→9→...</text>
    </g>
    
    <text x="0" y="110" font-family="Courier New, monospace" font-size="10" fill="#888888">Level by coin flips (p=0.5)</text>
    <text x="0" y="128" font-family="Courier New, monospace" font-size="12" fill="#60a5fa">Expected: O(log n) all ops</text>
  </g>
  
  <!-- Key Theorems -->
  <text x="650" y="300" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Key Theorems</text>
  
  <g transform="translate(650, 320)">
    <rect x="0" y="0" width="200" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
    <text x="10" y="13" font-family="Courier New, monospace" font-size="9" fill="#4ade80">Linearity of Expectation</text>
    <text x="10" y="25" font-family="Courier New, monospace" font-size="8" fill="#ffffff">E[X+Y] = E[X] + E[Y]</text>
    
    <rect x="0" y="35" width="200" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
    <text x="10" y="48" font-family="Courier New, monospace" font-size="9" fill="#f97316">Markov's Inequality</text>
    <text x="10" y="60" font-family="Courier New, monospace" font-size="8" fill="#ffffff">P(X≥a) ≤ E[X]/a</text>
    
    <rect x="0" y="70" width="200" height="30" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1"/>
    <text x="10" y="83" font-family="Courier New, monospace" font-size="9" fill="#a78bfa">Chernoff Bound</text>
    <text x="10" y="95" font-family="Courier New, monospace" font-size="8" fill="#ffffff">Exponential tail bounds</text>
  </g>
  
  <!-- Algorithm Comparison -->
  <text x="450" y="480" text-anchor="middle" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Algorithm Comparison</text>
  
  <g transform="translate(100, 500)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Reservoir:</text>
    <text x="100" y="0" font-family="Courier New, monospace" font-size="10" fill="#4ade80">O(n)</text>
    <text x="160" y="0" font-family="Courier New, monospace" font-size="10" fill="#888888">stream sampling</text>
    
    <text x="320" y="0" font-family="Courier New, monospace" font-size="10" fill="#ffffff">QuickSelect:</text>
    <text x="420" y="0" font-family="Courier New, monospace" font-size="10" fill="#4ade80">O(n) exp</text>
    <text x="500" y="0" font-family="Courier New, monospace" font-size="10" fill="#888888">k-th element</text>
  </g>
  
  <g transform="translate(100, 525)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Shuffle:</text>
    <text x="100" y="0" font-family="Courier New, monospace" font-size="10" fill="#4ade80">O(n)</text>
    <text x="160" y="0" font-family="Courier New, monospace" font-size="10" fill="#888888">permutation</text>
    
    <text x="320" y="0" font-family="Courier New, monospace" font-size="10" fill="#ffffff">Skip List:</text>
    <text x="420" y="0" font-family="Courier New, monospace" font-size="10" fill="#4ade80">O(log n) exp</text>
    <text x="500" y="0" font-family="Courier New, monospace" font-size="10" fill="#888888">dictionary</text>
  </g>
  
  <!-- Footer -->
  <text x="450" y="580" text-anchor="middle" font-family="Courier New, monospace" font-size="11" fill="#888888">Randomization prevents worst-case inputs by making choices unpredictable</text>
</svg>


