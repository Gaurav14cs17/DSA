<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <rect width="900" height="600" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff">Nim-Sum (XOR) Calculation</text>
  <text x="450" y="65" text-anchor="middle" font-family="Courier New, monospace" font-size="16" fill="#888888">Bouton's Theorem (1901) - The Key to Winning Nim</text>
  
  <!-- Section: Pile Visualization -->
  <text x="50" y="110" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">STEP 1: Initial Piles [3, 4, 5]</text>
  
  <g transform="translate(50, 140)">
    <!-- Pile 1: 3 stones -->
    <g transform="translate(0, 0)">
      <rect x="0" y="60" width="40" height="40" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
      <rect x="0" y="20" width="40" height="40" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
      <rect x="0" y="-20" width="40" height="40" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
      <text x="20" y="120" text-anchor="middle" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#f97316">Pile 1</text>
      <text x="20" y="140" text-anchor="middle" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff">3</text>
    </g>
    
    <!-- Pile 2: 4 stones -->
    <g transform="translate(80, 0)">
      <rect x="0" y="60" width="40" height="40" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
      <rect x="0" y="20" width="40" height="40" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
      <rect x="0" y="-20" width="40" height="40" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
      <rect x="0" y="-60" width="40" height="40" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
      <text x="20" y="120" text-anchor="middle" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#3b82f6">Pile 2</text>
      <text x="20" y="140" text-anchor="middle" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff">4</text>
    </g>
    
    <!-- Pile 3: 5 stones -->
    <g transform="translate(160, 0)">
      <rect x="0" y="60" width="40" height="40" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <rect x="0" y="20" width="40" height="40" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <rect x="0" y="-20" width="40" height="40" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <rect x="0" y="-60" width="40" height="40" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <rect x="0" y="-100" width="40" height="40" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
      <text x="20" y="120" text-anchor="middle" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#4ade80">Pile 3</text>
      <text x="20" y="140" text-anchor="middle" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#ffffff">5</text>
    </g>
  </g>
  
  <!-- Section: Binary Conversion -->
  <text x="350" y="110" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">STEP 2: Convert to Binary</text>
  
  <g transform="translate(350, 140)">
    <rect x="0" y="0" width="250" height="140" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5"/>
    
    <!-- Header -->
    <text x="25" y="30" font-family="Courier New, monospace" font-size="12" fill="#888888">Decimal</text>
    <text x="120" y="30" font-family="Courier New, monospace" font-size="12" fill="#888888">Binary</text>
    <text x="190" y="30" font-family="Courier New, monospace" font-size="12" fill="#888888">Bits</text>
    
    <line x1="15" y1="40" x2="235" y2="40" stroke="#3b82f6" stroke-width="1"/>
    
    <!-- Pile 1 -->
    <text x="50" y="65" text-anchor="middle" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#f97316">3</text>
    <text x="100" y="65" font-family="Courier New, monospace" font-size="14" fill="#888888">=</text>
    <text x="140" y="65" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#f97316">0</text>
    <text x="160" y="65" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#f97316">1</text>
    <text x="180" y="65" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#f97316">1</text>
    <text x="210" y="65" font-family="Courier New, monospace" font-size="11" fill="#888888">₂</text>
    
    <!-- Pile 2 -->
    <text x="50" y="90" text-anchor="middle" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#3b82f6">4</text>
    <text x="100" y="90" font-family="Courier New, monospace" font-size="14" fill="#888888">=</text>
    <text x="140" y="90" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#3b82f6">1</text>
    <text x="160" y="90" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#3b82f6">0</text>
    <text x="180" y="90" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#3b82f6">0</text>
    <text x="210" y="90" font-family="Courier New, monospace" font-size="11" fill="#888888">₂</text>
    
    <!-- Pile 3 -->
    <text x="50" y="115" text-anchor="middle" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#4ade80">5</text>
    <text x="100" y="115" font-family="Courier New, monospace" font-size="14" fill="#888888">=</text>
    <text x="140" y="115" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#4ade80">1</text>
    <text x="160" y="115" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#4ade80">0</text>
    <text x="180" y="115" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#4ade80">1</text>
    <text x="210" y="115" font-family="Courier New, monospace" font-size="11" fill="#888888">₂</text>
  </g>
  
  <!-- Section: XOR Operation -->
  <text x="650" y="110" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">STEP 3: XOR (⊕) Operation</text>
  
  <g transform="translate(650, 140)">
    <rect x="0" y="0" width="200" height="180" fill="#2d1f3d" stroke="#a78bfa" stroke-width="1.5"/>
    
    <!-- XOR calculation -->
    <text x="20" y="35" font-family="Courier New, monospace" font-size="14" fill="#888888">Bit-by-bit XOR:</text>
    
    <!-- Column headers -->
    <text x="80" y="60" font-family="Courier New, monospace" font-size="11" fill="#888888">4s</text>
    <text x="110" y="60" font-family="Courier New, monospace" font-size="11" fill="#888888">2s</text>
    <text x="140" y="60" font-family="Courier New, monospace" font-size="11" fill="#888888">1s</text>
    
    <text x="30" y="85" font-family="Courier New, monospace" font-size="14" fill="#f97316">3:</text>
    <text x="80" y="85" font-family="Courier New, monospace" font-size="14" fill="#ffffff">0</text>
    <text x="110" y="85" font-family="Courier New, monospace" font-size="14" fill="#ffffff">1</text>
    <text x="140" y="85" font-family="Courier New, monospace" font-size="14" fill="#ffffff">1</text>
    
    <text x="30" y="105" font-family="Courier New, monospace" font-size="14" fill="#3b82f6">4:</text>
    <text x="80" y="105" font-family="Courier New, monospace" font-size="14" fill="#ffffff">1</text>
    <text x="110" y="105" font-family="Courier New, monospace" font-size="14" fill="#ffffff">0</text>
    <text x="140" y="105" font-family="Courier New, monospace" font-size="14" fill="#ffffff">0</text>
    
    <text x="30" y="125" font-family="Courier New, monospace" font-size="14" fill="#4ade80">5:</text>
    <text x="80" y="125" font-family="Courier New, monospace" font-size="14" fill="#ffffff">1</text>
    <text x="110" y="125" font-family="Courier New, monospace" font-size="14" fill="#ffffff">0</text>
    <text x="140" y="125" font-family="Courier New, monospace" font-size="14" fill="#ffffff">1</text>
    
    <line x1="70" y1="135" x2="160" y2="135" stroke="#a78bfa" stroke-width="2"/>
    <text x="30" y="155" font-family="Courier New, monospace" font-size="14" fill="#a78bfa">⊕:</text>
    <text x="80" y="155" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#a78bfa">0</text>
    <text x="110" y="155" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#a78bfa">1</text>
    <text x="140" y="155" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#a78bfa">0</text>
    <text x="165" y="155" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#a78bfa">= 2</text>
  </g>
  
  <!-- XOR Rules Box -->
  <text x="50" y="340" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">XOR Rules (⊕)</text>
  
  <g transform="translate(50, 360)">
    <rect x="0" y="0" width="200" height="110" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5"/>
    
    <text x="20" y="30" font-family="Courier New, monospace" font-size="12" fill="#4ade80">0 ⊕ 0 = 0</text>
    <text x="120" y="30" font-family="Courier New, monospace" font-size="10" fill="#888888">(even)</text>
    
    <text x="20" y="50" font-family="Courier New, monospace" font-size="12" fill="#4ade80">1 ⊕ 1 = 0</text>
    <text x="120" y="50" font-family="Courier New, monospace" font-size="10" fill="#888888">(even)</text>
    
    <text x="20" y="70" font-family="Courier New, monospace" font-size="12" fill="#f97316">0 ⊕ 1 = 1</text>
    <text x="120" y="70" font-family="Courier New, monospace" font-size="10" fill="#888888">(odd)</text>
    
    <text x="20" y="90" font-family="Courier New, monospace" font-size="12" fill="#f97316">1 ⊕ 0 = 1</text>
    <text x="120" y="90" font-family="Courier New, monospace" font-size="10" fill="#888888">(odd)</text>
  </g>
  
  <!-- Bouton's Theorem -->
  <text x="300" y="340" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Bouton's Theorem</text>
  
  <g transform="translate(300, 360)">
    <rect x="0" y="0" width="280" height="110" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    
    <text x="20" y="30" font-family="Courier New, monospace" font-size="12" fill="#ffffff">Nim-Sum = a₁ ⊕ a₂ ⊕ ... ⊕ aₙ</text>
    
    <line x1="20" y1="45" x2="260" y2="45" stroke="#4ade80" stroke-width="1"/>
    
    <text x="20" y="70" font-family="Courier New, monospace" font-size="12" fill="#ef4444">Nim-Sum = 0 → LOSING position (L)</text>
    <text x="20" y="95" font-family="Courier New, monospace" font-size="12" fill="#4ade80">Nim-Sum ≠ 0 → WINNING position (W)</text>
  </g>
  
  <!-- Result Box -->
  <text x="630" y="340" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">RESULT</text>
  
  <g transform="translate(630, 360)">
    <rect x="0" y="0" width="220" height="110" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
    
    <text x="110" y="35" text-anchor="middle" font-family="Courier New, monospace" font-size="14" fill="#ffffff">3 ⊕ 4 ⊕ 5 = 2</text>
    <text x="110" y="60" text-anchor="middle" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#f97316">Nim-Sum ≠ 0</text>
    
    <line x1="20" y1="70" x2="200" y2="70" stroke="#f97316" stroke-width="1"/>
    
    <text x="110" y="95" text-anchor="middle" font-family="Courier New, monospace" font-size="18" font-weight="bold" fill="#4ade80">WINNING POSITION!</text>
  </g>
  
  <!-- Winning Move -->
  <text x="50" y="510" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">STEP 4: Find Winning Move</text>
  
  <g transform="translate(50, 530)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="12" fill="#ffffff">Goal: Make Nim-Sum = 0</text>
    <text x="0" y="25" font-family="Courier New, monospace" font-size="12" fill="#888888">Solution: Change pile 1 from 3 → 1</text>
    <text x="0" y="50" font-family="Courier New, monospace" font-size="12" fill="#4ade80">New piles: [1, 4, 5] → 1 ⊕ 4 ⊕ 5 = 0 ✓</text>
  </g>
  
  <g transform="translate(400, 530)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="12" fill="#888888">Calculation: 3 ⊕ 2 = 1</text>
    <text x="0" y="25" font-family="Courier New, monospace" font-size="12" fill="#888888">Remove: 3 - 1 = 2 stones</text>
    <text x="0" y="50" font-family="Courier New, monospace" font-size="12" fill="#a78bfa">Opponent now in LOSING position!</text>
  </g>
  
  <!-- Complexity -->
  <text x="750" y="555" text-anchor="middle" font-family="Courier New, monospace" font-size="12" fill="#60a5fa">Time: O(n) | Space: O(1)</text>
</svg>

