<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 650">
  <rect width="950" height="650" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="475" y="40" font-family="Courier New, monospace" font-size="26" font-weight="bold" fill="#ffffff" text-anchor="middle">Basic Calculator</text>
  <text x="475" y="65" font-family="Courier New, monospace" font-size="16" fill="#888888" text-anchor="middle">Handling + - and nested parentheses | LeetCode #224</text>
  
  <!-- Input Expression -->
  <g transform="translate(50, 100)">
    <text x="0" y="0" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560">Input: "1 + (2 - 3)"</text>
    
    <g transform="translate(0, 20)">
      <rect x="0" y="0" width="35" height="40" rx="4" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
      <text x="17" y="27" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">1</text>
      
      <rect x="45" y="0" width="35" height="40" rx="4" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
      <text x="62" y="27" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#f97316" text-anchor="middle">+</text>
      
      <rect x="90" y="0" width="35" height="40" rx="4" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
      <text x="107" y="27" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#a78bfa" text-anchor="middle">(</text>
      
      <rect x="135" y="0" width="35" height="40" rx="4" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
      <text x="152" y="27" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">2</text>
      
      <rect x="180" y="0" width="35" height="40" rx="4" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
      <text x="197" y="27" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#f97316" text-anchor="middle">-</text>
      
      <rect x="225" y="0" width="35" height="40" rx="4" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
      <text x="242" y="27" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">3</text>
      
      <rect x="270" y="0" width="35" height="40" rx="4" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
      <text x="287" y="27" font-family="Courier New, monospace" font-size="16" font-weight="bold" fill="#a78bfa" text-anchor="middle">)</text>
    </g>
  </g>
  
  <!-- Key Insight Box -->
  <g transform="translate(450, 100)">
    <rect x="0" y="0" width="450" height="75" rx="6" fill="#2d1f3d" stroke="#a78bfa" stroke-width="2"/>
    <text x="225" y="22" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#a78bfa" text-anchor="middle">Key Insight</text>
    <text x="225" y="45" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">On '(' → Push current result and sign to stack</text>
    <text x="225" y="65" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">On ')' → Pop sign, pop prev result, combine</text>
  </g>
  
  <!-- Variables Box -->
  <g transform="translate(50, 190)">
    <rect x="0" y="0" width="300" height="80" rx="6" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="150" y="22" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#3b82f6" text-anchor="middle">Variables</text>
    <text x="150" y="45" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">result = running total</text>
    <text x="150" y="62" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">sign = +1 or -1 (current sign)</text>
    <text x="150" y="78" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">num = current number being built</text>
  </g>
  
  <!-- Step-by-Step Trace Label -->
  <text x="475" y="300" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#e94560" text-anchor="middle">Step-by-Step Trace</text>
  
  <!-- Table Header -->
  <g transform="translate(50, 315)">
    <rect x="0" y="0" width="850" height="30" rx="4" fill="#1e3a5f"/>
    <text x="50" y="20" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">Char</text>
    <text x="200" y="20" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">Action</text>
    <text x="400" y="20" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">num</text>
    <text x="490" y="20" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">sign</text>
    <text x="580" y="20" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">result</text>
    <text x="750" y="20" font-family="Courier New, monospace" font-size="11" font-weight="bold" fill="#3b82f6" text-anchor="middle">Stack</text>
  </g>
  
  <!-- Init row -->
  <g transform="translate(50, 350)">
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">init</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Initialize</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">+1</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">[]</text>
  </g>
  
  <!-- Row 1: '1' -->
  <g transform="translate(50, 372)">
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#3b82f6" text-anchor="middle">'1'</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Digit → num = 1</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">1</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">+1</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">[]</text>
  </g>
  
  <!-- Row 2: '+' -->
  <g transform="translate(50, 394)">
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#f97316" text-anchor="middle">'+'</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">result += sign*num, sign = +1</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">+1</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">1</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">[]</text>
  </g>
  
  <!-- Row 3: '(' - highlighted -->
  <g transform="translate(50, 416)">
    <rect x="-5" y="-5" width="860" height="22" rx="3" fill="#2d1f3d"/>
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#a78bfa" text-anchor="middle">'('</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Push(result,sign), reset</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">+1</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#a78bfa" text-anchor="middle">[1, +1]</text>
  </g>
  
  <!-- Row 4: '2' -->
  <g transform="translate(50, 438)">
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#3b82f6" text-anchor="middle">'2'</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Digit → num = 2</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">2</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">+1</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#a78bfa" text-anchor="middle">[1, +1]</text>
  </g>
  
  <!-- Row 5: '-' -->
  <g transform="translate(50, 460)">
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#f97316" text-anchor="middle">'-'</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">result += sign*num, sign = -1</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ef4444" text-anchor="middle">-1</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">2</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#a78bfa" text-anchor="middle">[1, +1]</text>
  </g>
  
  <!-- Row 6: '3' -->
  <g transform="translate(50, 482)">
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#3b82f6" text-anchor="middle">'3'</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Digit → num = 3</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">3</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ef4444" text-anchor="middle">-1</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">2</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#a78bfa" text-anchor="middle">[1, +1]</text>
  </g>
  
  <!-- Row 7: ')' - closing paren calculations -->
  <g transform="translate(50, 504)">
    <rect x="-5" y="-5" width="860" height="22" rx="3" fill="#0f2f1f"/>
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#a78bfa" text-anchor="middle">')'</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">result += sign*num → 2+(-1)*3 = -1</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">0</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">-</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#f97316" text-anchor="middle">-1</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">inside paren = -1</text>
  </g>
  
  <!-- Row 8: ')' pop and combine -->
  <g transform="translate(50, 526)">
    <rect x="-5" y="-5" width="860" height="22" rx="3" fill="#0f2f1f"/>
    <text x="50" y="12" font-family="Courier New, monospace" font-size="11" fill="#888888" text-anchor="middle">-</text>
    <text x="200" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Pop: result = pop_result + pop_sign * result</text>
    <text x="400" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">-</text>
    <text x="490" y="12" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">-</text>
    <text x="580" y="12" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">0</text>
    <text x="750" y="12" font-family="Courier New, monospace" font-size="11" fill="#4ade80" text-anchor="middle">1 + (+1)*(-1) = 0</text>
  </g>
  
  <!-- Result and Complexity -->
  <g transform="translate(50, 570)">
    <rect x="0" y="0" width="300" height="60" rx="6" fill="#0f2f1f" stroke="#4ade80" stroke-width="2"/>
    <text x="150" y="22" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#4ade80" text-anchor="middle">Result: 0</text>
    <text x="150" y="45" font-family="Courier New, monospace" font-size="12" fill="#ffffff" text-anchor="middle">1 + (2 - 3) = 0 ✓</text>
  </g>
  
  <g transform="translate(380, 570)">
    <rect x="0" y="0" width="180" height="60" rx="6" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
    <text x="90" y="22" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#3b82f6" text-anchor="middle">Complexity</text>
    <text x="90" y="45" font-family="Courier New, monospace" font-size="12" fill="#60a5fa" text-anchor="middle">O(n) Time &amp; Space</text>
  </g>
  
  <g transform="translate(590, 570)">
    <rect x="0" y="0" width="310" height="60" rx="6" fill="#3d1f0f" stroke="#f97316" stroke-width="2"/>
    <text x="155" y="22" font-family="Courier New, monospace" font-size="14" font-weight="bold" fill="#f97316" text-anchor="middle">Stack Pattern</text>
    <text x="155" y="45" font-family="Courier New, monospace" font-size="11" fill="#ffffff" text-anchor="middle">Store [result, sign] for each '(' level</text>
  </g>
</svg>
